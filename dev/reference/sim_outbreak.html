<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Simulate a line list and a contacts table — sim_outbreak • simulist</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Simulate a line list and a contacts table — sim_outbreak"><meta name="description" content="The line list and contacts are simulated using a branching
process and parameterised with epidemiological parameters."><meta property="og:description" content="The line list and contacts are simulated using a branching
process and parameterised with epidemiological parameters."><meta property="og:image" content="https://epiverse-trace.github.io/simulist/logo.svg"><meta name="robots" content="noindex"><!-- Google tag (gtag.js) --><script async src="https://www.googletagmanager.com/gtag/js?id=G-XZ471458FQ"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-XZ471458FQ');
</script></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">
    <a href="https://epiverse-trace.github.io/" class="external-link"><img src="https://epiverse-trace.github.io/blueprints/logo_white.svg" id="logo" alt="Epiverse-TRACE"></a>
    <a class="navbar-brand me-2" href="../index.html">simulist</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">0.4.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/simulist.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Customising simulated outbreak</h6></li>
    <li><a class="dropdown-item" href="../articles/age-strat-risks.html">Age-stratified hospitalisation and death risks</a></li>
    <li><a class="dropdown-item" href="../articles/age-struct-pop.html">Age-structured population</a></li>
    <li><a class="dropdown-item" href="../articles/time-varying-cfr.html">Time-varying case fatality risk</a></li>
    <li><a class="dropdown-item" href="../articles/reporting-delays-truncation.html">Reporting delays and right-truncation of line list data</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Wrangling and plotting data</h6></li>
    <li><a class="dropdown-item" href="../articles/wrangling-linelist.html">Wrangling simulated outbreak data</a></li>
    <li><a class="dropdown-item" href="../articles/vis-linelist.html">Visualising simulated data</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Developer Documentation</h6></li>
    <li><a class="dropdown-item" href="../articles/design-principles.html">Design Principles for {simulist}</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/epiverse-trace/simulist/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Simulate a line list and a contacts table</h1>
      <small class="dont-index">Source: <a href="https://github.com/epiverse-trace/simulist/blob/main/R/sim_outbreak.R" class="external-link"><code>R/sim_outbreak.R</code></a></small>
      <div class="d-none name"><code>sim_outbreak.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>The line list and contacts are simulated using a branching
process and parameterised with epidemiological parameters.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">sim_outbreak</span><span class="op">(</span></span>
<span>  contact_distribution <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu">stats</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/stats/Poisson.html" class="external-link">dpois</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">x</span>, lambda <span class="op">=</span> <span class="fl">2</span><span class="op">)</span>,</span>
<span>  infectious_period <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu">stats</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/stats/Lognormal.html" class="external-link">rlnorm</a></span><span class="op">(</span>n <span class="op">=</span> <span class="va">x</span>, meanlog <span class="op">=</span> <span class="fl">2</span>, sdlog <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span>,</span>
<span>  prob_infection <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>  onset_to_hosp <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu">stats</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/stats/Lognormal.html" class="external-link">rlnorm</a></span><span class="op">(</span>n <span class="op">=</span> <span class="va">x</span>, meanlog <span class="op">=</span> <span class="fl">1.5</span>, sdlog <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span>,</span>
<span>  onset_to_death <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu">stats</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/stats/Lognormal.html" class="external-link">rlnorm</a></span><span class="op">(</span>n <span class="op">=</span> <span class="va">x</span>, meanlog <span class="op">=</span> <span class="fl">2.5</span>, sdlog <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span>,</span>
<span>  onset_to_recovery <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  reporting_delay <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  hosp_risk <span class="op">=</span> <span class="fl">0.2</span>,</span>
<span>  hosp_death_risk <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>  non_hosp_death_risk <span class="op">=</span> <span class="fl">0.05</span>,</span>
<span>  outbreak_start_date <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="st">"2023-01-01"</span><span class="op">)</span>,</span>
<span>  anonymise <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  outbreak_size <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">10000</span><span class="op">)</span>,</span>
<span>  population_age <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">90</span><span class="op">)</span>,</span>
<span>  case_type_probs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>suspected <span class="op">=</span> <span class="fl">0.2</span>, probable <span class="op">=</span> <span class="fl">0.3</span>, confirmed <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span>,</span>
<span>  contact_tracing_status_probs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>under_followup <span class="op">=</span> <span class="fl">0.7</span>, lost_to_followup <span class="op">=</span> <span class="fl">0.2</span>, unknown</span>
<span>    <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span>,</span>
<span>  config <span class="op">=</span> <span class="fu"><a href="create_config.html">create_config</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-contact-distribution">contact_distribution<a class="anchor" aria-label="anchor" href="#arg-contact-distribution"></a></dt>
<dd><p>A <code>function</code> or an <code>&lt;epiparameter&gt;</code> object to
generate the number of contacts per infection.</p>
<p>The function can be defined or anonymous. The function must have a single
argument in the form of an <code>integer</code> vector with elements representing the
number of contacts, and return a <code>numeric</code> vector where each element
corresponds to the probability of observing the number of contacts in the
vector passed to the function. The index of the <code>numeric</code> vector returned
is offset by one to the corresponding probability of observing the number
of contacts, i.e. the first element of the output vector is the probability
of observing zero contacts, the second element is the probability of
observing one contact, etc.</p>
<p>An <code>&lt;epiparameter&gt;</code> can be provided. This will be converted into a
probability mass function internally.</p>
<p>The default is an anonymous function with a Poisson probability mass function
(<code><a href="https://rdrr.io/r/stats/Poisson.html" class="external-link">dpois()</a></code>) with a mean (\(\lambda\)) of 2 contacts per infection.</p></dd>


<dt id="arg-infectious-period">infectious_period<a class="anchor" aria-label="anchor" href="#arg-infectious-period"></a></dt>
<dd><p>A <code>function</code> or an <code>&lt;epiparameter&gt;</code> object for the
infectious period. This defines the duration from becoming infectious to
no longer infectious. In the simulation, individuals are assumed to
become infectious immediately after being infected (the latency period is
assumed to be zero). The time intervals between an infected individual and
their contacts are assumed to be uniformly distributed within the
infectious period. Infectious periods must be strictly positive.</p>
<p>The function can be defined or anonymous. The function must return a vector
of randomly generated real numbers representing sampled infectious periods.
The function must have a single argument, the number of random infectious
periods to generate.</p>
<p>An <code>&lt;epiparameter&gt;</code> can be provided. This will be converted into random
number generator internally.</p>
<p>The default is an anonymous function with a lognormal distribution random
number generator (<code><a href="https://rdrr.io/r/stats/Lognormal.html" class="external-link">rlnorm()</a></code>) with <code>meanlog = 2</code> and <code>sdlog = 0.5</code>.</p></dd>


<dt id="arg-prob-infection">prob_infection<a class="anchor" aria-label="anchor" href="#arg-prob-infection"></a></dt>
<dd><p>A single <code>numeric</code> for the probability of a secondary
contact being infected by an infected primary contact.</p></dd>


<dt id="arg-onset-to-hosp">onset_to_hosp<a class="anchor" aria-label="anchor" href="#arg-onset-to-hosp"></a></dt>
<dd><p>A <code>function</code> or an <code>&lt;epiparameter&gt;</code> object for the
onset-to-hospitalisation delay distribution. <code>onset_to_hosp</code> can also be
set to <code>NULL</code> to not simulate hospitalisation (admission) dates.</p>
<p>The function can be defined or anonymous. The function must return a vector
of <code>numeric</code>s for the length of the onset-to-hospitalisation delay. The
function must have a single argument.</p>
<p>An <code>&lt;epiparameter&gt;</code> can be provided. This will be converted into a random
number generator internally.</p>
<p>The default is an anonymous function with a lognormal distribution random
number generator (<code><a href="https://rdrr.io/r/stats/Lognormal.html" class="external-link">rlnorm()</a></code>) with <code>meanlog = 1.5</code> and <code>sdlog = 0.5</code>.</p>
<p>If <code>onset_to_hosp</code> is set to <code>NULL</code> then <code>hosp_risk</code> and <code>hosp_death_risk</code>
will be automatically set to <code>NULL</code> if not manually specified.</p></dd>


<dt id="arg-onset-to-death">onset_to_death<a class="anchor" aria-label="anchor" href="#arg-onset-to-death"></a></dt>
<dd><p>A <code>function</code> or an <code>&lt;epiparameter&gt;</code> object for the
onset-to-death delay distribution. <code>onset_to_death</code> can also be set to
<code>NULL</code> to not simulate dates for individuals that died.</p>
<p>The function can be defined or anonymous. The function must return a vector
of <code>numeric</code>s for the length of the onset-to-death delay. The function must
have a single argument.</p>
<p>An <code>&lt;epiparameter&gt;</code> can be provided. This will be converted into a random
number generator internally.</p>
<p>The default is an anonymous function with a lognormal distribution random
number generator (<code><a href="https://rdrr.io/r/stats/Lognormal.html" class="external-link">rlnorm()</a></code>) with <code>meanlog = 2.5</code> and <code>sdlog = 0.5</code>.</p>
<p>If <code>onset_to_death</code> is set to <code>NULL</code> then <code>non_hosp_death_risk</code> and
<code>hosp_death_risk</code> will be automatically set to <code>NULL</code> if not manually
specified.</p>
<p>For hospitalised cases, the function ensures the onset-to-death time is
greater than the onset-to-hospitalisation time. After many (1000) attempts,
if an onset-to-death time (from <code>onset_to_death</code>) cannot be sampled that is
greater than a onset-to-hospitalisation time (from <code>onset_to_hosp</code>) then
the function will error. Due to this conditional sampling, the
onset-to-death times in the line list may not resemble the distributional
form input into the function.</p></dd>


<dt id="arg-onset-to-recovery">onset_to_recovery<a class="anchor" aria-label="anchor" href="#arg-onset-to-recovery"></a></dt>
<dd><p>A <code>function</code> or an <code>&lt;epiparameter&gt;</code> object for the
onset-to-recovery delay distribution. <code>onset_to_recovery</code> can also be <code>NULL</code>
to not simulate dates for individuals that recovered.</p>
<p>The function can be defined or anonymous. The function must return a vector
of <code>numeric</code>s for the length of the onset-to-recovery delay. The function
must have a single argument.</p>
<p>An <code>&lt;epiparameter&gt;</code> can be provided. This will be converted into a random
number generator internally.</p>
<p>The default is <code>NULL</code> so by default cases that recover get an <code>NA</code> in the
<code>$date_outcome</code> line list column.</p>
<p>For hospitalised cases, the function ensures the onset-to-recovery time is
greater than the onset-to-hospitalisation time. After many (1000) attempts,
if an onset-to-recovery time (from <code>onset_to_recovery</code>) cannot be sampled
that is greater than a onset-to-hospitalisation time (from <code>onset_to_hosp</code>)
then the function will error. Due to this conditional sampling, the
onset-to-recovery times in the line list may not resemble the distributional
form input into the function.</p></dd>


<dt id="arg-reporting-delay">reporting_delay<a class="anchor" aria-label="anchor" href="#arg-reporting-delay"></a></dt>
<dd><p>A <code>function</code> for the reporting delay distribution or
<code>NULL</code>. The (random) number generating function creates delays between the
time of symptom onset (<code>$date_onset</code>) and the case being reported
(<code>$date_reporting</code>).</p>
<p>The function can be defined or anonymous. The function must return a vector
of <code>numeric</code>s for the length of the reporting delay. The function must have
a single argument.</p>
<p>The default is <code>NULL</code> so by default there is no reporting delay, and the
<code>$date_reporting</code> line list column is identical to the <code>$date_onset</code> column.</p></dd>


<dt id="arg-hosp-risk">hosp_risk<a class="anchor" aria-label="anchor" href="#arg-hosp-risk"></a></dt>
<dd><p>Either a single <code>numeric</code> for the hospitalisation risk of
everyone in the population, or a <code>&lt;data.frame&gt;</code> with age specific
hospitalisation risks. Default is 20% hospitalisation (<code>0.2</code>) for the entire
population. If the <code>onset_to_hosp</code> argument is set to <code>NULL</code> this argument
will automatically be set to <code>NULL</code> if not specified or can be manually
set to <code>NULL</code>. See details and examples for more information.</p></dd>


<dt id="arg-hosp-death-risk">hosp_death_risk<a class="anchor" aria-label="anchor" href="#arg-hosp-death-risk"></a></dt>
<dd><p>Either a single <code>numeric</code> for the death risk for
hospitalised individuals across the population, or a <code>&lt;data.frame&gt;</code> with age
specific hospitalised death risks Default is 50% death risk in hospitals
(<code>0.5</code>) for the entire population. If the <code>onset_to_death</code> argument is set
to <code>NULL</code> this argument will automatically be set to <code>NULL</code> if not specified
or can be manually set to <code>NULL</code>. See details and examples for more
information. The <code>hosp_death_risk</code> can vary through time if specified in
the <code>time_varying_death_risk</code> element of <code>config</code>, see
<code><a href="../articles/time-varying-cfr.html">vignette("time-varying-cfr", package = "simulist")</a></code> for more information.</p></dd>


<dt id="arg-non-hosp-death-risk">non_hosp_death_risk<a class="anchor" aria-label="anchor" href="#arg-non-hosp-death-risk"></a></dt>
<dd><p>Either a single <code>numeric</code> for the death risk for
outside of hospitals across the population, or a <code>&lt;data.frame&gt;</code> with age
specific death risks outside of hospitals. Default is 5% death risk outside
of hospitals  (<code>0.05</code>) for the entire population. If the <code>onset_to_death</code>
argument is set to <code>NULL</code> this argument will automatically be set to <code>NULL</code>
if not specified or can be manually set to <code>NULL</code>. See details and examples
for more information. The <code>non_hosp_death_risk</code> can vary through time if
specified in the <code>time_varying_death_risk</code> element of <code>config</code>, see
<code><a href="../articles/time-varying-cfr.html">vignette("time-varying-cfr", package = "simulist")</a></code> for more information.</p></dd>


<dt id="arg-outbreak-start-date">outbreak_start_date<a class="anchor" aria-label="anchor" href="#arg-outbreak-start-date"></a></dt>
<dd><p>A <code>date</code> for the start of the outbreak.</p></dd>


<dt id="arg-anonymise">anonymise<a class="anchor" aria-label="anchor" href="#arg-anonymise"></a></dt>
<dd><p>A <code>logical</code> boolean for whether case names should be
anonymised. Default is <code>FALSE</code>.</p></dd>


<dt id="arg-outbreak-size">outbreak_size<a class="anchor" aria-label="anchor" href="#arg-outbreak-size"></a></dt>
<dd><p>A <code>numeric</code> vector of length 2 defining the minimum and
the maximum number of infected individuals for the simulated outbreak.
Default is <code>c(10, 1e4)</code>, so the minimum outbreak size is 10 infected
individuals, and the maximum outbreak size is 10,000 infected individuals.
Either number can be changed to increase or decrease the maximum or minimum
outbreak size to allow simulating larger or smaller outbreaks. If the
minimum outbreak size cannot be reached after running the simulation for
many iterations (internally) then the function errors, whereas if the
maximum outbreak size is exceeded the function returns the data early and a
warning stating how many cases and contacts are returned.</p></dd>


<dt id="arg-population-age">population_age<a class="anchor" aria-label="anchor" href="#arg-population-age"></a></dt>
<dd><p>Either a <code>numeric</code> vector with two elements or a
<code>&lt;data.frame&gt;</code> with age structure in the population. Use a <code>numeric</code> vector
to specific the age range of the population, the first element is the lower
bound for the age range, and and the second is the upper bound for the age
range (both inclusive, i.e. [lower, upper]). The <code>&lt;data.frame&gt;</code> with
age groups and the proportion of the population in that group. See details
and examples for more information.</p></dd>


<dt id="arg-case-type-probs">case_type_probs<a class="anchor" aria-label="anchor" href="#arg-case-type-probs"></a></dt>
<dd><p>A named <code>numeric</code> vector with the probability of
each case type. The names of the vector must be <code>"suspected"</code>, <code>"probable"</code>,
<code>"confirmed"</code>. Values of each case type must sum to one.</p></dd>


<dt id="arg-contact-tracing-status-probs">contact_tracing_status_probs<a class="anchor" aria-label="anchor" href="#arg-contact-tracing-status-probs"></a></dt>
<dd><p>A named <code>numeric</code> vector with the
probability of each contact tracing status. The names of the vector must
be <code>"under_followup"</code>, <code>"lost_to_followup"</code>, <code>"unknown"</code>. Values of each
contact tracing status must sum to one.</p></dd>


<dt id="arg-config">config<a class="anchor" aria-label="anchor" href="#arg-config"></a></dt>
<dd><p>A list of settings to adjust the randomly sampled delays and
Ct values. See <code><a href="create_config.html">create_config()</a></code> for more information.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A list with two elements:</p><ol><li><p>A line list <code>&lt;data.frame&gt;</code></p></li>
<li><p>A contacts <code>&lt;data.frame&gt;</code></p></li>
</ol></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>For age-stratified hospitalised and death risks a <code>&lt;data.frame&gt;</code>
will need to be passed to the <code>hosp_risk</code> and/or <code>hosp_death_risk</code>
arguments. This <code>&lt;data.frame&gt;</code> should have two columns:</p><ul><li><p><code>age_limit</code>: a column with one <code>numeric</code> per cell for the lower bound
(minimum) age of the age group (inclusive).</p></li>
<li><p><code>risk</code>: a column with one <code>numeric</code> per cell for the proportion
(or probability) of hospitalisation for that age group. Should be between
0 and 1.</p></li>
</ul><p>For an age-structured population, a <code>&lt;data.frame&gt;</code> with two columns:</p><ul><li><p><code>age_range</code>: a column with characters specifying the lower and upper bound
of that age group, separated by a hyphen (-). Both bounds are inclusive
(integers). For example, an age group of one to ten would be given as
<code>"1-10"</code>.</p></li>
<li><p><code>proportion</code>: a column with the proportion of the population that are in
that age group. Proportions must sum to one.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Joshua W. Lambert</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># quickly simulate an outbreak using the function defaults</span></span></span>
<span class="r-in"><span><span class="va">outbreak</span> <span class="op">&lt;-</span> <span class="fu">sim_outbreak</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">outbreak</span><span class="op">$</span><span class="va">linelist</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   id       case_name case_type sex age date_onset date_reporting date_admission</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  1    Erik Grajeda suspected   m  88 2023-01-01     2023-01-01           &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  2    Nahom Gibson suspected   m   8 2023-01-01     2023-01-01     2023-01-03</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3  3     Cory Jordan  probable   m   6 2023-01-02     2023-01-02           &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  8  Jacob Hamalian confirmed   m  40 2023-01-02     2023-01-02           &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5 10 Kaitlynne Flynn suspected   f  43 2023-01-02     2023-01-02           &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6 12  Mitchell Riggs  probable   m  71 2023-01-06     2023-01-06           &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     outcome date_outcome date_first_contact date_last_contact ct_value</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 recovered         &lt;NA&gt;               &lt;NA&gt;              &lt;NA&gt;       NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 recovered         &lt;NA&gt;         2023-01-04        2023-01-07       NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3      died   2023-01-08         2023-01-01        2023-01-02       NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4 recovered         &lt;NA&gt;         2023-01-01        2023-01-06     22.7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5 recovered         &lt;NA&gt;         2023-01-03        2023-01-04       NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6 recovered         &lt;NA&gt;         2023-01-03        2023-01-06       NA</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">outbreak</span><span class="op">$</span><span class="va">contacts</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           from                to age sex date_first_contact date_last_contact</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 Erik Grajeda      Nahom Gibson   8   m         2023-01-04        2023-01-07</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 Erik Grajeda       Cory Jordan   6   m         2023-01-01        2023-01-02</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 Erik Grajeda Tareefa al-Akhtar  75   f         2023-01-03        2023-01-04</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4 Erik Grajeda        Jase Bohol  89   m         2022-12-29        2023-01-02</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5 Nahom Gibson  Springwind James  30   f         2022-12-31        2023-01-02</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6 Nahom Gibson       Jade Martin  89   m         2023-01-02        2023-01-02</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   was_case         status</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1        Y           case</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2        Y           case</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3        N under_followup</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4        N under_followup</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5        N under_followup</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6        N under_followup</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># to simulate a more realistic outbreak load epiparameters from</span></span></span>
<span class="r-in"><span><span class="co"># {epiparameter}</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/epiverse-trace/epiparameter/" class="external-link">epiparameter</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">contact_distribution</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://epiverse-trace.github.io/epiparameter/reference/epiparameter.html" class="external-link">epiparameter</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  disease <span class="op">=</span> <span class="st">"COVID-19"</span>,</span></span>
<span class="r-in"><span>  epi_name <span class="op">=</span> <span class="st">"contact distribution"</span>,</span></span>
<span class="r-in"><span>  prob_distribution <span class="op">=</span> <span class="fu"><a href="https://epiverse-trace.github.io/epiparameter/reference/create_prob_distribution.html" class="external-link">create_prob_distribution</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    prob_distribution <span class="op">=</span> <span class="st">"pois"</span>,</span></span>
<span class="r-in"><span>    prob_distribution_params <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>mean <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Citation cannot be created as author, year, journal or title is missing</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">infectious_period</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://epiverse-trace.github.io/epiparameter/reference/epiparameter.html" class="external-link">epiparameter</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  disease <span class="op">=</span> <span class="st">"COVID-19"</span>,</span></span>
<span class="r-in"><span>  epi_name <span class="op">=</span> <span class="st">"infectious period"</span>,</span></span>
<span class="r-in"><span>  prob_distribution <span class="op">=</span> <span class="fu"><a href="https://epiverse-trace.github.io/epiparameter/reference/create_prob_distribution.html" class="external-link">create_prob_distribution</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    prob_distribution <span class="op">=</span> <span class="st">"gamma"</span>,</span></span>
<span class="r-in"><span>    prob_distribution_params <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>shape <span class="op">=</span> <span class="fl">1</span>, scale <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Citation cannot be created as author, year, journal or title is missing</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># get onset to hospital admission from {epiparameter} database</span></span></span>
<span class="r-in"><span><span class="va">onset_to_hosp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://epiverse-trace.github.io/epiparameter/reference/epiparameter_db.html" class="external-link">epiparameter_db</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  disease <span class="op">=</span> <span class="st">"COVID-19"</span>,</span></span>
<span class="r-in"><span>  epi_name <span class="op">=</span> <span class="st">"onset to hospitalisation"</span>,</span></span>
<span class="r-in"><span>  single_epiparameter <span class="op">=</span> <span class="cn">TRUE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Using Linton N, Kobayashi T, Yang Y, Hayashi K, Akhmetzhanov A, Jung S, Yuan</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> B, Kinoshita R, Nishiura H (2020). “Incubation Period and Other</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Epidemiological Characteristics of 2019 Novel Coronavirus Infections</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> with Right Truncation: A Statistical Analysis of Publicly Available</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Case Data.” _Journal of Clinical Medicine_. doi:10.3390/jcm9020538</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> &lt;https://doi.org/10.3390/jcm9020538&gt;.. </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> To retrieve the citation use the 'get_citation' function</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># get onset to death from {epiparameter} database</span></span></span>
<span class="r-in"><span><span class="va">onset_to_death</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://epiverse-trace.github.io/epiparameter/reference/epiparameter_db.html" class="external-link">epiparameter_db</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  disease <span class="op">=</span> <span class="st">"COVID-19"</span>,</span></span>
<span class="r-in"><span>  epi_name <span class="op">=</span> <span class="st">"onset to death"</span>,</span></span>
<span class="r-in"><span>  single_epiparameter <span class="op">=</span> <span class="cn">TRUE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Using Linton N, Kobayashi T, Yang Y, Hayashi K, Akhmetzhanov A, Jung S, Yuan</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> B, Kinoshita R, Nishiura H (2020). “Incubation Period and Other</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Epidemiological Characteristics of 2019 Novel Coronavirus Infections</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> with Right Truncation: A Statistical Analysis of Publicly Available</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Case Data.” _Journal of Clinical Medicine_. doi:10.3390/jcm9020538</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> &lt;https://doi.org/10.3390/jcm9020538&gt;.. </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> To retrieve the citation use the 'get_citation' function</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">outbreak</span> <span class="op">&lt;-</span> <span class="fu">sim_outbreak</span><span class="op">(</span></span></span>
<span class="r-in"><span>  contact_distribution <span class="op">=</span> <span class="va">contact_distribution</span>,</span></span>
<span class="r-in"><span>  infectious_period <span class="op">=</span> <span class="va">infectious_period</span>,</span></span>
<span class="r-in"><span>  prob_infection <span class="op">=</span> <span class="fl">0.5</span>,</span></span>
<span class="r-in"><span>  onset_to_hosp <span class="op">=</span> <span class="va">onset_to_hosp</span>,</span></span>
<span class="r-in"><span>  onset_to_death <span class="op">=</span> <span class="va">onset_to_death</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Joshua W. Lambert, Carmen Tamayo.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

