<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="simulist">
<title>Getting Started with {simulist} â€¢ simulist</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Getting Started with {simulist}">
<meta property="og:description" content="simulist">
<meta property="og:image" content="https://epiverse-trace.github.io/simulist/logo.svg">
<meta name="robots" content="noindex">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Google tag (gtag.js) --><script async src="https://www.googletagmanager.com/gtag/js?id=G-XZ471458FQ"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-XZ471458FQ');
</script>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-dark" data-bs-theme="dark"><div class="container">
    <a href="https://epiverse-trace.github.io/" class="external-link"><img src="https://epiverse-trace.github.io/blueprints/logo_white.svg" id="logo" alt="Epiverse-TRACE"></a>
    <a class="navbar-brand me-2" href="../index.html">simulist</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">0.3.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item">
  <a class="nav-link" href="../articles/simulist.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <h6 class="dropdown-header" data-toc-skip>Customising simulated outbreak</h6>
    <a class="dropdown-item" href="../articles/age-strat-risks.html">Age-stratified hospitalisation and death risks</a>
    <a class="dropdown-item" href="../articles/age-struct-pop.html">Age structured population</a>
    <a class="dropdown-item" href="../articles/time-varying-cfr.html">Time-varying case fatality risk</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Wrangling and plotting data</h6>
    <a class="dropdown-item" href="../articles/wrangling-linelist.html">Wrangling simulated outbreak data</a>
    <a class="dropdown-item" href="../articles/vis-linelist.html">Visualising simulated data</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Developer Documentation</h6>
    <a class="dropdown-item" href="../articles/design-principles.html">Design Principles for {simulist}</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/epiverse-trace/simulist/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">


<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Getting Started with {simulist}</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/epiverse-trace/simulist/blob/HEAD/vignettes/simulist.Rmd" class="external-link"><code>vignettes/simulist.Rmd</code></a></small>
      <div class="d-none name"><code>simulist.Rmd</code></div>
    </div>

    
    
<p>This is an introductory vignette to the {simulist} R package. {simulist} simulates two types of common epidemiological data collected during infectious disease outbreaks: 1) a line list, which provides individual-level descriptions of cases in an outbreak; 2) a contact dataset, which provides details of which others individuals were in contact with each of the cases.</p>
<p>The main function in the {simulist} package is <code><a href="../reference/sim_linelist.html">sim_linelist()</a></code>. This functions takes in arguments that control the dynamics of the outbreak, such as the infectious period, and outputs a line list table (<code>&lt;data.frame&gt;</code>) with case information for each infected individual.</p>
<p>For this introduction we will simulate a line list for the early stages of a COVID-19 (SARS-CoV-2) outbreak. This will require two R packages: {simulist}, to produce the line list, and {epiparameter} to provide epidemiological parameters, such as onset-to-death delays.</p>
<details class="chunk-details" open><summary class="chunk-summary"><span class="chunk-summary-text">Code</span></summary><div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/epiverse-trace/simulist" class="external-link">simulist</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/epiverse-trace/epiparameter/" class="external-link">epiparameter</a></span><span class="op">)</span></span></code></pre></div>
</details><p>First we load in some data that is required for the line list simulation. Data on epidemiological parameters and distributions are read from the {epiparameter} R package.</p>
<details class="chunk-details" open><summary class="chunk-summary"><span class="chunk-summary-text">Code</span></summary><div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># create contact distribution (not available from {epiparameter} database)</span></span>
<span><span class="va">contact_distribution</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://epiverse-trace.github.io/epiparameter/reference/epidist.html" class="external-link">epidist</a></span><span class="op">(</span></span>
<span>  disease <span class="op">=</span> <span class="st">"COVID-19"</span>,</span>
<span>  epi_dist <span class="op">=</span> <span class="st">"contact distribution"</span>,</span>
<span>  prob_distribution <span class="op">=</span> <span class="st">"pois"</span>,</span>
<span>  prob_distribution_params <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>mean <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Citation cannot be created as author, year, journal or title is missing</span></span></code></pre></div>
</details><details class="chunk-details" open><summary class="chunk-summary"><span class="chunk-summary-text">Code</span></summary><div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># create infectious period (not available from {epiparameter} database)</span></span>
<span><span class="va">infectious_period</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://epiverse-trace.github.io/epiparameter/reference/epidist.html" class="external-link">epidist</a></span><span class="op">(</span></span>
<span>  disease <span class="op">=</span> <span class="st">"COVID-19"</span>,</span>
<span>  epi_dist <span class="op">=</span> <span class="st">"infectious period"</span>,</span>
<span>  prob_distribution <span class="op">=</span> <span class="st">"gamma"</span>,</span>
<span>  prob_distribution_params <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>shape <span class="op">=</span> <span class="fl">1</span>, scale <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Citation cannot be created as author, year, journal or title is missing</span></span></code></pre></div>
</details><details class="chunk-details" open><summary class="chunk-summary"><span class="chunk-summary-text">Code</span></summary><div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># get onset to hospital admission from {epiparameter} database</span></span>
<span><span class="va">onset_to_hosp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://epiverse-trace.github.io/epiparameter/reference/epidist_db.html" class="external-link">epidist_db</a></span><span class="op">(</span></span>
<span>  disease <span class="op">=</span> <span class="st">"COVID-19"</span>,</span>
<span>  epi_dist <span class="op">=</span> <span class="st">"onset to hospitalisation"</span>,</span>
<span>  single_epidist <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Using Linton N, Kobayashi T, Yang Y, Hayashi K, Akhmetzhanov A, Jung S, Yuan</span></span>
<span><span class="co">#&gt; B, Kinoshita R, Nishiura H (2020). "Incubation Period and Other</span></span>
<span><span class="co">#&gt; Epidemiological Characteristics of 2019 Novel Coronavirus Infections</span></span>
<span><span class="co">#&gt; with Right Truncation: A Statistical Analysis of Publicly Available</span></span>
<span><span class="co">#&gt; Case Data." _Journal of Clinical Medicine_. doi:10.3390/jcm9020538</span></span>
<span><span class="co">#&gt; &lt;https://doi.org/10.3390/jcm9020538&gt;.. </span></span>
<span><span class="co">#&gt; To retrieve the citation use the 'get_citation' function</span></span></code></pre></div>
</details><details class="chunk-details" open><summary class="chunk-summary"><span class="chunk-summary-text">Code</span></summary><div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># get onset to death from {epiparameter} database</span></span>
<span><span class="va">onset_to_death</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://epiverse-trace.github.io/epiparameter/reference/epidist_db.html" class="external-link">epidist_db</a></span><span class="op">(</span></span>
<span>  disease <span class="op">=</span> <span class="st">"COVID-19"</span>,</span>
<span>  epi_dist <span class="op">=</span> <span class="st">"onset to death"</span>,</span>
<span>  single_epidist <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Using Linton N, Kobayashi T, Yang Y, Hayashi K, Akhmetzhanov A, Jung S, Yuan</span></span>
<span><span class="co">#&gt; B, Kinoshita R, Nishiura H (2020). "Incubation Period and Other</span></span>
<span><span class="co">#&gt; Epidemiological Characteristics of 2019 Novel Coronavirus Infections</span></span>
<span><span class="co">#&gt; with Right Truncation: A Statistical Analysis of Publicly Available</span></span>
<span><span class="co">#&gt; Case Data." _Journal of Clinical Medicine_. doi:10.3390/jcm9020538</span></span>
<span><span class="co">#&gt; &lt;https://doi.org/10.3390/jcm9020538&gt;.. </span></span>
<span><span class="co">#&gt; To retrieve the citation use the 'get_citation' function</span></span></code></pre></div>
</details><p>The seed is set to ensure the output of the vignette is consistent. When using {simulist}, setting the seed is not required unless you need to simulate the same line list multiple times.</p>
<details class="chunk-details" open><summary class="chunk-summary"><span class="chunk-summary-text">Code</span></summary><div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span></code></pre></div>
</details><p>The first argument in <code><a href="../reference/sim_linelist.html">sim_linelist()</a></code> is the contact distribution (<code>contact_distribution</code>), which here we specify as Poisson distribution with a mean (average) number of contacts of 2, and with the infectious period and probability of infection per contact (<code>prob_infection</code>) will control the growth rate of the simulated epidemic. Here we set the probability of infection as 0.5 (on average half of contacts become infected). The minimum requirements to simulate a line list are the contact distribution, the infectious period, probability of infection, onset-to-hospitalisation delay and onset-to-death delay.</p>
<details class="chunk-details" open><summary class="chunk-summary"><span class="chunk-summary-text">Code</span></summary><div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">linelist</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sim_linelist.html">sim_linelist</a></span><span class="op">(</span></span>
<span>  contact_distribution <span class="op">=</span> <span class="va">contact_distribution</span>,</span>
<span>  infectious_period <span class="op">=</span> <span class="va">infectious_period</span>,</span>
<span>  prob_infection <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>  onset_to_hosp <span class="op">=</span> <span class="va">onset_to_hosp</span>,</span>
<span>  onset_to_death <span class="op">=</span> <span class="va">onset_to_death</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">linelist</span><span class="op">)</span></span>
<span><span class="co">#&gt;   id      case_name case_type sex age date_onset date_admission   outcome</span></span>
<span><span class="co">#&gt; 1  1 Hassan Lacsina confirmed   m  39 2023-01-01           &lt;NA&gt; recovered</span></span>
<span><span class="co">#&gt; 2  3   Joshua Cowan confirmed   m  90 2023-01-01           &lt;NA&gt; recovered</span></span>
<span><span class="co">#&gt; 3  4   Annabelle Vu  probable   f   9 2023-01-01     2023-01-07      died</span></span>
<span><span class="co">#&gt; 4  5       Emily Fu confirmed   f  71 2023-01-01     2023-01-01      died</span></span>
<span><span class="co">#&gt; 5  6  Kirsten Barna suspected   f  48 2023-01-02           &lt;NA&gt; recovered</span></span>
<span><span class="co">#&gt; 6  7   Ty Henderson suspected   m  77 2023-01-01           &lt;NA&gt; recovered</span></span>
<span><span class="co">#&gt;   date_outcome date_first_contact date_last_contact ct_value</span></span>
<span><span class="co">#&gt; 1         &lt;NA&gt;               &lt;NA&gt;              &lt;NA&gt;     25.2</span></span>
<span><span class="co">#&gt; 2         &lt;NA&gt;         2022-12-31        2023-01-03     25.2</span></span>
<span><span class="co">#&gt; 3   2023-01-16         2022-12-29        2023-01-02       NA</span></span>
<span><span class="co">#&gt; 4   2023-01-08         2023-01-02        2023-01-07     25.2</span></span>
<span><span class="co">#&gt; 5         &lt;NA&gt;         2022-12-30        2023-01-03       NA</span></span>
<span><span class="co">#&gt; 6         &lt;NA&gt;         2022-12-26        2023-01-02       NA</span></span></code></pre></div>
</details><div class="section level2">
<h2 id="controlling-outbreak-size">Controlling outbreak size<a class="anchor" aria-label="anchor" href="#controlling-outbreak-size"></a>
</h2>
<p>The reproduction number (<span class="math inline">\(R\)</span>) has a strong influence on the size of an outbreak. For {simulist}, the reproduction number is, not provided directly, but rather is determined by the mean number of contacts and the probability of infection. However, the {simulist} package generates line list data using a stochastic algorithm, so even when <span class="math inline">\(R &lt; 1\)</span> it can produce a substantial outbreak by chance, or an <span class="math inline">\(R &gt;&gt; 1\)</span> will sometimes not produce a vast epidemic in one simulation (i.e.Â one replicate) due to the stochasticity.</p>
<div class="alert alert-warning">
<p><em>Alert</em></p>
<p>The reproduction number (<span class="math inline">\(R\)</span>) of the simulation results from the contact distribution (<code>contact_distribution</code>) and the probability of infection (<code>prob_infection</code>); the number of infections is a binomial sample of the number of contacts for each case with the probability of infection (i.e.Â being sampled) given by <code>prob_infect</code>. If the average number of secondary infections from each primary case is greater than 1 (<span class="math inline">\(R &gt; 1\)</span>) then this can lead to the outbreak becoming extremely large.</p>
<p>There is currently no depletion of susceptible individuals in the simulation model (i.e.Â infinite population size), so the maximum outbreak size (second element of the vector supplied to the <code>outbreak_size</code> argument) can be used to return a line list early without producing an excessively large data set.</p>
<p>If <span class="math inline">\(R &gt; 1\)</span>, the simulation may return early after reaching the maximum outbreak size. In these scenarios when <span class="math inline">\(R &gt; 1\)</span>, the <span class="math inline">\(R\)</span> value is controlling the rate at which the maximum outbreak size is reached rather than the size of the outbreak (not all simulations with <span class="math inline">\(R &gt; 1\)</span> will reach the maximum outbreak size due to stochasticity).</p>
<p>The simulation is therefore sensitive to the contact distribution and probability of infection resulting in an <span class="math inline">\(R\)</span> just above or below 1.</p>
</div>
<p>When requiring a minimum or maximum outbreak size we can specify the <code>outbreak_size</code> argument in <code><a href="../reference/sim_linelist.html">sim_linelist()</a></code>. By default this is set to 10 and 10,000 for the minimum and maximum, respectively. In the case of the minimum outbreak size, this means that the simulation will not return a line list until the conditioning has been met. In other words, the simulation will resimulate a branching process model until an outbreak infects at least 10 people. In the case of the maximum outbreak size, if the number of infected individuals exceeds the maximum the simulation will end, even if there are still infectious individuals capable of continuing transmission, the function will return the data early with a warning that the number of infections in the data has reached the maximum and stating how many cases and contacts are in the data output.</p>
<p>When requiring a line list that represents a large outbreak, such as the COVID-19 outbreak, setting the <code>outbreak_size</code> to a larger number guarantees a line list of at least that size. Here we simulate a line list requiring at least 250 cases (and fewer than 10,000 cases). The maximum number of cases can also be increased when simulating outbreaks such as global pandemics.</p>
<details class="chunk-details" open><summary class="chunk-summary"><span class="chunk-summary-text">Code</span></summary><div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">linelist</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sim_linelist.html">sim_linelist</a></span><span class="op">(</span></span>
<span>  contact_distribution <span class="op">=</span> <span class="va">contact_distribution</span>,</span>
<span>  infectious_period <span class="op">=</span> <span class="va">infectious_period</span>,</span>
<span>  prob_infection <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>  onset_to_hosp <span class="op">=</span> <span class="va">onset_to_hosp</span>,</span>
<span>  onset_to_death <span class="op">=</span> <span class="va">onset_to_death</span>,</span>
<span>  outbreak_size <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">250</span>, <span class="fl">1e4</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">linelist</span><span class="op">)</span></span>
<span><span class="co">#&gt;   id            case_name case_type sex age date_onset date_admission   outcome</span></span>
<span><span class="co">#&gt; 1  1 Traegon Vasquez-Luna confirmed   m  87 2023-01-01           &lt;NA&gt; recovered</span></span>
<span><span class="co">#&gt; 2  2      Xiaoyun Mattern confirmed   f  61 2023-01-01           &lt;NA&gt; recovered</span></span>
<span><span class="co">#&gt; 3  3     Charles Thompson confirmed   m  29 2023-01-01     2023-01-04 recovered</span></span>
<span><span class="co">#&gt; 4  4        Eduardo Lopez confirmed   m  71 2023-01-01     2023-02-04 recovered</span></span>
<span><span class="co">#&gt; 5  5         Yaneli Leyba  probable   f  23 2023-01-01     2023-02-07 recovered</span></span>
<span><span class="co">#&gt; 6  6        Renata Tinner confirmed   f   7 2023-01-01           &lt;NA&gt; recovered</span></span>
<span><span class="co">#&gt;   date_outcome date_first_contact date_last_contact ct_value</span></span>
<span><span class="co">#&gt; 1         &lt;NA&gt;               &lt;NA&gt;              &lt;NA&gt;     25.9</span></span>
<span><span class="co">#&gt; 2         &lt;NA&gt;         2023-01-03        2023-01-03     25.9</span></span>
<span><span class="co">#&gt; 3         &lt;NA&gt;         2022-12-31        2023-01-07     25.9</span></span>
<span><span class="co">#&gt; 4         &lt;NA&gt;         2022-12-25        2023-01-02     25.9</span></span>
<span><span class="co">#&gt; 5         &lt;NA&gt;         2023-01-04        2023-01-05       NA</span></span>
<span><span class="co">#&gt; 6         &lt;NA&gt;         2023-01-01        2023-01-04     25.9</span></span></code></pre></div>
</details><p>The amount of time the simulation takes can be determined by the mean of the contact distribution (<code>contact_distribution</code>), the probability of infection (<code>prob_infection</code>) and conditioning the outbreak size (<code>outbreak_size</code>). If the minimum <code>outbreak_size</code> is large, for example hundreds or thousands of cases, and the mean number of contacts and probability of infection mean the reproduction number is below one, it will take many branching process simulations until finding one that produces a sufficiently large epidemic.</p>
</div>
<div class="section level2">
<h2 id="case-type">Case type<a class="anchor" aria-label="anchor" href="#case-type"></a>
</h2>
<p>During an infectious disease outbreak it may not be possible to confirm every infection as a case. A confirmed case is typically defined via a diagnostic test. There are several reasons why a case may not be confirmed, including limited testing capacity and mild or non-specific early symptoms, especially in fast growing epidemics. We therefore include two other categories for cases: probable and suspected. For example, probable cases may be those that show clinical evidence for the disease but have not, or cannot, be confirmed by a diagnostic test. Suspected cases are those that are possibly infected but do not show clear clinical or epidemiological evidence, nor has a diagnostic test been performed. Hence the distribution of suspected/probable/confirmed will depend on the pathogen characteristics, outbreak-specific definitions, and resources available.</p>
<p>The line list output from the {simulist} simulation contains a column (<code>case_type</code>) with the type of case.</p>
<p>{simulist} can simulate varying probabilities of each case being suspected, probable or confirmed. By default the <code><a href="../reference/sim_linelist.html">sim_linelist()</a></code> function uses probabilities of <code>suspected = 0.2</code>, <code>probable = 0.3</code> and <code>confirmed = 0.5</code>.</p>
<details class="chunk-details" open><summary class="chunk-summary"><span class="chunk-summary-text">Code</span></summary><div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">linelist</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sim_linelist.html">sim_linelist</a></span><span class="op">(</span></span>
<span>  contact_distribution <span class="op">=</span> <span class="va">contact_distribution</span>,</span>
<span>  infectious_period <span class="op">=</span> <span class="va">infectious_period</span>,</span>
<span>  prob_infection <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>  onset_to_hosp <span class="op">=</span> <span class="va">onset_to_hosp</span>,</span>
<span>  onset_to_death <span class="op">=</span> <span class="va">onset_to_death</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">linelist</span><span class="op">)</span></span>
<span><span class="co">#&gt;   id            case_name case_type sex age date_onset date_admission   outcome</span></span>
<span><span class="co">#&gt; 1  1      Jordan Leishman  probable   m  20 2023-01-01           &lt;NA&gt; recovered</span></span>
<span><span class="co">#&gt; 2  2     Bronson Esposito  probable   m  75 2023-01-01     2023-01-05 recovered</span></span>
<span><span class="co">#&gt; 3  5 Daisy Vasquez-Torres confirmed   f  72 2023-01-01           &lt;NA&gt; recovered</span></span>
<span><span class="co">#&gt; 4  9         Meron Parker confirmed   f   7 2023-01-01           &lt;NA&gt; recovered</span></span>
<span><span class="co">#&gt; 5 10        Collin Vahabi  probable   m  21 2023-01-02           &lt;NA&gt; recovered</span></span>
<span><span class="co">#&gt; 6 11          Kevin Ortiz suspected   m  13 2023-01-02     2023-01-06      died</span></span>
<span><span class="co">#&gt;   date_outcome date_first_contact date_last_contact ct_value</span></span>
<span><span class="co">#&gt; 1         &lt;NA&gt;               &lt;NA&gt;              &lt;NA&gt;       NA</span></span>
<span><span class="co">#&gt; 2         &lt;NA&gt;         2022-12-29        2023-01-01       NA</span></span>
<span><span class="co">#&gt; 3         &lt;NA&gt;         2023-01-04        2023-01-05     25.6</span></span>
<span><span class="co">#&gt; 4         &lt;NA&gt;         2023-01-04        2023-01-05     25.6</span></span>
<span><span class="co">#&gt; 5         &lt;NA&gt;         2022-12-26        2023-01-01       NA</span></span>
<span><span class="co">#&gt; 6   2023-01-11         2023-01-05        2023-01-05       NA</span></span></code></pre></div>
</details><p>To alter these probabilities, supply a named vector to the <code><a href="../reference/sim_linelist.html">sim_linelist()</a></code> argument <code>case_type_probs</code>. The vector should contain three numbers, with the names <code>suspected</code>, <code>probable</code> and <code>confirmed</code>, with the numbers summing to one. Here we change the values to simulate an outbreak in which the proportion of cases confirmed by laboratory testing is high.</p>
<details class="chunk-details" open><summary class="chunk-summary"><span class="chunk-summary-text">Code</span></summary><div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">linelist</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sim_linelist.html">sim_linelist</a></span><span class="op">(</span></span>
<span>  contact_distribution <span class="op">=</span> <span class="va">contact_distribution</span>,</span>
<span>  infectious_period <span class="op">=</span> <span class="va">infectious_period</span>,</span>
<span>  prob_infection <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>  onset_to_hosp <span class="op">=</span> <span class="va">onset_to_hosp</span>,</span>
<span>  onset_to_death <span class="op">=</span> <span class="va">onset_to_death</span>,</span>
<span>  case_type_probs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>suspected <span class="op">=</span> <span class="fl">0.05</span>, probable <span class="op">=</span> <span class="fl">0.05</span>, confirmed <span class="op">=</span> <span class="fl">0.9</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">linelist</span><span class="op">)</span></span>
<span><span class="co">#&gt;   id         case_name case_type sex age date_onset date_admission   outcome</span></span>
<span><span class="co">#&gt; 1  1    Ryan Mcpherson confirmed   m  12 2023-01-01     2023-01-01 recovered</span></span>
<span><span class="co">#&gt; 2  2        James Nava confirmed   m  18 2023-01-02           &lt;NA&gt;      died</span></span>
<span><span class="co">#&gt; 3  4   Marcus Benjamin confirmed   m  34 2023-01-02     2023-01-09      died</span></span>
<span><span class="co">#&gt; 4  6         Tina Danz confirmed   f  70 2023-01-02           &lt;NA&gt; recovered</span></span>
<span><span class="co">#&gt; 5  7  Safar el-Mahfouz confirmed   m  60 2023-01-02     2023-01-03 recovered</span></span>
<span><span class="co">#&gt; 6  8 Rafael Paolo Chen confirmed   m  64 2023-01-02           &lt;NA&gt; recovered</span></span>
<span><span class="co">#&gt;   date_outcome date_first_contact date_last_contact ct_value</span></span>
<span><span class="co">#&gt; 1         &lt;NA&gt;               &lt;NA&gt;              &lt;NA&gt;     24.7</span></span>
<span><span class="co">#&gt; 2   2023-01-15         2023-01-05        2023-01-06     24.7</span></span>
<span><span class="co">#&gt; 3   2023-01-14         2023-01-01        2023-01-03     24.7</span></span>
<span><span class="co">#&gt; 4         &lt;NA&gt;         2022-12-31        2023-01-04     24.7</span></span>
<span><span class="co">#&gt; 5         &lt;NA&gt;         2023-01-01        2023-01-03     24.7</span></span>
<span><span class="co">#&gt; 6         &lt;NA&gt;         2023-01-03        2023-01-05     24.7</span></span></code></pre></div>
</details><p>It is also possible to set one of these categories to <code>1</code>, in which case every case will be of that type.</p>
<p>The way {simulist} assigns case types is by pasting case types onto existing case data. Thus, it could be viewed that the true underlying data is that all cases in the simulation are confirmed, but that there is a lack of information in some cases. There are no cases in the output line list that are incorrectly attributed as probable or suspected that have not been infected. That is to say, all individuals in the line list, whatever their case type, are infected during the outbreak.</p>
</div>
<div class="section level2">
<h2 id="anonymous-line-list">Anonymous line list<a class="anchor" aria-label="anchor" href="#anonymous-line-list"></a>
</h2>
<p>By default <code><a href="../reference/sim_linelist.html">sim_linelist()</a></code> provides the name of each individual in the line list. If an anonymised line list is required the <code>anonymise</code> argument of <code><a href="../reference/sim_linelist.html">sim_linelist()</a></code> can be set to <code>TRUE</code>.</p>
<details class="chunk-details" open><summary class="chunk-summary"><span class="chunk-summary-text">Code</span></summary><div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">linelist</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sim_linelist.html">sim_linelist</a></span><span class="op">(</span></span>
<span>  contact_distribution <span class="op">=</span> <span class="va">contact_distribution</span>,</span>
<span>  infectious_period <span class="op">=</span> <span class="va">infectious_period</span>,</span>
<span>  prob_infection <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>  onset_to_hosp <span class="op">=</span> <span class="va">onset_to_hosp</span>,</span>
<span>  onset_to_death <span class="op">=</span> <span class="va">onset_to_death</span>,</span>
<span>  anonymise <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">linelist</span><span class="op">)</span></span>
<span><span class="co">#&gt;   id  case_name case_type sex age date_onset date_admission   outcome</span></span>
<span><span class="co">#&gt; 1  1 TZEHlV9qWk confirmed   f  70 2023-01-01           &lt;NA&gt; recovered</span></span>
<span><span class="co">#&gt; 2  4 YOVXleJLDP confirmed   f  12 2023-01-01           &lt;NA&gt; recovered</span></span>
<span><span class="co">#&gt; 3  5 GCZVQbf799 suspected   f  10 2023-01-01           &lt;NA&gt;      died</span></span>
<span><span class="co">#&gt; 4  6 zyQOkL4DOx confirmed   m  43 2023-01-01           &lt;NA&gt; recovered</span></span>
<span><span class="co">#&gt; 5  7 r8HQKWI7fe confirmed   m  90 2023-01-01     2023-01-02      died</span></span>
<span><span class="co">#&gt; 6 10 eebBmOYMxb  probable   m  81 2023-01-01           &lt;NA&gt;      died</span></span>
<span><span class="co">#&gt;   date_outcome date_first_contact date_last_contact ct_value</span></span>
<span><span class="co">#&gt; 1         &lt;NA&gt;               &lt;NA&gt;              &lt;NA&gt;     24.8</span></span>
<span><span class="co">#&gt; 2         &lt;NA&gt;         2022-12-28        2023-01-02     24.8</span></span>
<span><span class="co">#&gt; 3   2023-01-22         2022-12-31        2023-01-03       NA</span></span>
<span><span class="co">#&gt; 4         &lt;NA&gt;         2023-01-03        2023-01-06     24.8</span></span>
<span><span class="co">#&gt; 5   2023-01-18         2023-01-05        2023-01-06     24.8</span></span>
<span><span class="co">#&gt; 6   2023-01-13         2023-01-03        2023-01-03       NA</span></span></code></pre></div>
</details><p>The names used in the line list are produced at random by the <a href="https://CRAN.R-project.org/package=randomNames" class="external-link">{randomNames}</a> R package. Therefore, even when <code>anonymise = FALSE</code> there is no personal data of real individuals being produced or shared. The <code>anonymise</code> argument only changes the <code>$case_name</code> column of the line list, as this is deemed the only personally identifiable information (PII) in the line list data.</p>
</div>
<div class="section level2">
<h2 id="population-age">Population age<a class="anchor" aria-label="anchor" href="#population-age"></a>
</h2>
<p>For an overview of how a line list can be simulated with a uniform or structured population age distribution see the <a href="age-struct-pop.html">vignette dedicated to this topic</a>.</p>
</div>
<div class="section level2">
<h2 id="age-stratified-hospitalisation-and-death-risks">Age-stratified hospitalisation and death risks<a class="anchor" aria-label="anchor" href="#age-stratified-hospitalisation-and-death-risks"></a>
</h2>
<p>For an overview of how a line list can be simulated with age-stratified (or age-dependent) hospitalisation and death risks see the <a href="age-strat-risks.html">vignette dedicated to this topic</a>.</p>
</div>
<div class="section level2">
<h2 id="simulate-contacts-table">Simulate contacts table<a class="anchor" aria-label="anchor" href="#simulate-contacts-table"></a>
</h2>
<p>To simulate a contacts table, the <code><a href="../reference/sim_contacts.html">sim_contacts()</a></code> function can be used. This requires the same arguments as <code><a href="../reference/sim_linelist.html">sim_linelist()</a></code>, but does not require the onset-to-hospitalisation delay and onset-to-death delays.</p>
<details class="chunk-details" open><summary class="chunk-summary"><span class="chunk-summary-text">Code</span></summary><div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">contacts</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sim_contacts.html">sim_contacts</a></span><span class="op">(</span></span>
<span>  contact_distribution <span class="op">=</span> <span class="va">contact_distribution</span>,</span>
<span>  infectious_period <span class="op">=</span> <span class="va">infectious_period</span>,</span>
<span>  prob_infection <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">contacts</span><span class="op">)</span></span>
<span><span class="co">#&gt;                     from                     to age sex date_first_contact</span></span>
<span><span class="co">#&gt; 1        Karin Mendicino            Robert Tran  72   m         2023-01-01</span></span>
<span><span class="co">#&gt; 2        Karin Mendicino        Ashley Ellerman  78   f         2023-01-01</span></span>
<span><span class="co">#&gt; 3        Karin Mendicino Joshua Gaytan-Gonzalez  33   m         2023-01-02</span></span>
<span><span class="co">#&gt; 4        Karin Mendicino          Laneace Smith  39   f         2022-12-26</span></span>
<span><span class="co">#&gt; 5        Ashley Ellerman          Mackenzie Alt  13   f         2023-01-04</span></span>
<span><span class="co">#&gt; 6 Joshua Gaytan-Gonzalez            Marcie Medo   2   f         2022-12-29</span></span>
<span><span class="co">#&gt;   date_last_contact was_case           status</span></span>
<span><span class="co">#&gt; 1        2023-01-05        N   under_followup</span></span>
<span><span class="co">#&gt; 2        2023-01-04        Y             case</span></span>
<span><span class="co">#&gt; 3        2023-01-03        Y             case</span></span>
<span><span class="co">#&gt; 4        2023-01-01        N lost_to_followup</span></span>
<span><span class="co">#&gt; 5        2023-01-04        Y             case</span></span>
<span><span class="co">#&gt; 6        2023-01-03        Y             case</span></span></code></pre></div>
</details>
</div>
<div class="section level2">
<h2 id="simulate-both-line-list-and-contacts-table">Simulate both line list and contacts table<a class="anchor" aria-label="anchor" href="#simulate-both-line-list-and-contacts-table"></a>
</h2>
<p>To produce both a line list and a contacts table for the same outbreak, the <code><a href="../reference/sim_linelist.html">sim_linelist()</a></code> and <code><a href="../reference/sim_contacts.html">sim_contacts()</a></code> cannot be used separately due to the stochastic algorithm, meaning the data in the line list will be discordant with the contacts table.</p>
<p>In order to simulate a line list and a contacts table of the same outbreak the <code><a href="../reference/sim_outbreak.html">sim_outbreak()</a></code> function is required. This will simulate a single outbreak and return a line list and a contacts table. The inputs of <code><a href="../reference/sim_outbreak.html">sim_outbreak()</a></code> are the same as the inputs required for <code><a href="../reference/sim_linelist.html">sim_linelist()</a></code>.</p>
<details class="chunk-details" open><summary class="chunk-summary"><span class="chunk-summary-text">Code</span></summary><div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">outbreak</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sim_outbreak.html">sim_outbreak</a></span><span class="op">(</span></span>
<span>  contact_distribution <span class="op">=</span> <span class="va">contact_distribution</span>,</span>
<span>  infectious_period <span class="op">=</span> <span class="va">infectious_period</span>,</span>
<span>  prob_infection <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>  onset_to_hosp <span class="op">=</span> <span class="va">onset_to_hosp</span>,</span>
<span>  onset_to_death <span class="op">=</span> <span class="va">onset_to_death</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">outbreak</span><span class="op">$</span><span class="va">linelist</span><span class="op">)</span></span>
<span><span class="co">#&gt;   id           case_name case_type sex age date_onset date_admission   outcome</span></span>
<span><span class="co">#&gt; 1  1           Alan Henn suspected   m  10 2023-01-01           &lt;NA&gt; recovered</span></span>
<span><span class="co">#&gt; 2  2       Lauryn County confirmed   f  72 2023-01-01           &lt;NA&gt; recovered</span></span>
<span><span class="co">#&gt; 3  4        Dawson Davis  probable   m  85 2023-01-01           &lt;NA&gt; recovered</span></span>
<span><span class="co">#&gt; 4  5      Shawnee Bemski suspected   f  62 2023-01-02           &lt;NA&gt; recovered</span></span>
<span><span class="co">#&gt; 5  6  Jaadallah el-Akram confirmed   m  40 2023-01-01     2023-01-02      died</span></span>
<span><span class="co">#&gt; 6  8 Mahfoodha al-Nassif confirmed   f  82 2023-01-01           &lt;NA&gt; recovered</span></span>
<span><span class="co">#&gt;   date_outcome date_first_contact date_last_contact ct_value</span></span>
<span><span class="co">#&gt; 1         &lt;NA&gt;               &lt;NA&gt;              &lt;NA&gt;       NA</span></span>
<span><span class="co">#&gt; 2         &lt;NA&gt;         2022-12-29        2023-01-02     24.9</span></span>
<span><span class="co">#&gt; 3         &lt;NA&gt;         2022-12-29        2023-01-04       NA</span></span>
<span><span class="co">#&gt; 4         &lt;NA&gt;         2023-01-01        2023-01-05       NA</span></span>
<span><span class="co">#&gt; 5   2023-01-23         2023-01-02        2023-01-04     24.9</span></span>
<span><span class="co">#&gt; 6         &lt;NA&gt;         2023-01-01        2023-01-04     24.9</span></span></code></pre></div>
</details><details class="chunk-details" open><summary class="chunk-summary"><span class="chunk-summary-text">Code</span></summary><div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">outbreak</span><span class="op">$</span><span class="va">contacts</span><span class="op">)</span></span>
<span><span class="co">#&gt;            from                 to age sex date_first_contact date_last_contact</span></span>
<span><span class="co">#&gt; 1     Alan Henn      Lauryn County  72   f         2022-12-29        2023-01-02</span></span>
<span><span class="co">#&gt; 2     Alan Henn      James Lefebre  80   m         2023-01-02        2023-01-03</span></span>
<span><span class="co">#&gt; 3     Alan Henn       Dawson Davis  85   m         2022-12-29        2023-01-04</span></span>
<span><span class="co">#&gt; 4     Alan Henn     Shawnee Bemski  62   f         2023-01-01        2023-01-05</span></span>
<span><span class="co">#&gt; 5 Lauryn County Jaadallah el-Akram  40   m         2023-01-02        2023-01-04</span></span>
<span><span class="co">#&gt; 6 Lauryn County     Landis Veasley  57   m         2023-01-02        2023-01-05</span></span>
<span><span class="co">#&gt;   was_case         status</span></span>
<span><span class="co">#&gt; 1        Y           case</span></span>
<span><span class="co">#&gt; 2        N under_followup</span></span>
<span><span class="co">#&gt; 3        Y           case</span></span>
<span><span class="co">#&gt; 4        Y           case</span></span>
<span><span class="co">#&gt; 5        Y           case</span></span>
<span><span class="co">#&gt; 6        N under_followup</span></span></code></pre></div>
</details><p><code><a href="../reference/sim_outbreak.html">sim_outbreak()</a></code> has the same features as <code><a href="../reference/sim_linelist.html">sim_linelist()</a></code> and <code><a href="../reference/sim_contacts.html">sim_contacts()</a></code>, this includes simulating with age-stratified risks of hospitalisation and death, the probability of case types or contact tracing status can be modified.</p>
<div class="alert alert-info">
<p><em>Advanced</em></p>
<p>The <code>sim_*()</code> functions, by default, use an excess degree distribution to account for a network effect when sampling the number of contacts in the simulation model (<span class="math inline">\(q(n) \sim (n + 1)p(n + 1)\)</span> where <span class="math inline">\(p(n)\)</span> is the probability density function of a distribution, e.g., Poisson or Negative binomial, within the <code><a href="../reference/dot-sim_network_bp.html">.sim_network_bp()</a></code> internal function). This network effect can be turned off by using the <code>config</code> argument in any <code>sim_*()</code> function and setting <code>network = "unadjusted"</code> (<code>create_config(network = "unadjusted")</code>) which will instead sample from a probability distribution <span class="math inline">\(p(n)\)</span>.</p>
</div>
</div>
<div class="section level2">
<h2 id="using-functions-for-distributions-instead-of-epidist">Using functions for distributions instead of <code>&lt;epidist&gt;</code><a class="anchor" aria-label="anchor" href="#using-functions-for-distributions-instead-of-epidist"></a>
</h2>
<p>It is possible to use an <a href="https://en.wikipedia.org/wiki/Anonymous_function" class="external-link">anonymous function</a> instead of an <code>&lt;epidist&gt;</code> object when specifying the parameters of the delay and contact distributions. We recommend using the <code>&lt;epidist&gt;</code> objects but here outline the alternative approach.</p>
<details class="chunk-details" open><summary class="chunk-summary"><span class="chunk-summary-text">Code</span></summary><div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">outbreak</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sim_outbreak.html">sim_outbreak</a></span><span class="op">(</span></span>
<span>  contact_distribution <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/stats/Poisson.html" class="external-link">dpois</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">x</span>, lambda <span class="op">=</span> <span class="fl">2</span><span class="op">)</span>,</span>
<span>  infectious_period <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/stats/GammaDist.html" class="external-link">rgamma</a></span><span class="op">(</span>n <span class="op">=</span> <span class="va">x</span>, shape <span class="op">=</span> <span class="fl">2</span>, scale <span class="op">=</span> <span class="fl">2</span><span class="op">)</span>,</span>
<span>  prob_infection <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>  onset_to_hosp <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/stats/Lognormal.html" class="external-link">rlnorm</a></span><span class="op">(</span>n <span class="op">=</span> <span class="va">x</span>, meanlog <span class="op">=</span> <span class="fl">1.5</span>, sdlog <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span>,</span>
<span>  onset_to_death <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/stats/Weibull.html" class="external-link">rweibull</a></span><span class="op">(</span>n <span class="op">=</span> <span class="va">x</span>, shape <span class="op">=</span> <span class="fl">0.5</span>, scale <span class="op">=</span> <span class="fl">0.2</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">outbreak</span><span class="op">$</span><span class="va">linelist</span><span class="op">)</span></span>
<span><span class="co">#&gt;   id          case_name case_type sex age date_onset date_admission   outcome</span></span>
<span><span class="co">#&gt; 1  1       Pierre Salat  probable   m  34 2023-01-01           &lt;NA&gt; recovered</span></span>
<span><span class="co">#&gt; 2  2      Matthew Piske confirmed   m  13 2023-01-05           &lt;NA&gt; recovered</span></span>
<span><span class="co">#&gt; 3  5      Carsen Harris suspected   f  75 2023-01-06           &lt;NA&gt; recovered</span></span>
<span><span class="co">#&gt; 4  7 Fat'hiyaa el-Salam suspected   f   1 2023-01-03           &lt;NA&gt; recovered</span></span>
<span><span class="co">#&gt; 5  9        Nelle Nible confirmed   f  20 2023-01-06           &lt;NA&gt; recovered</span></span>
<span><span class="co">#&gt; 6 10       Megan Collie  probable   f  79 2023-01-06           &lt;NA&gt; recovered</span></span>
<span><span class="co">#&gt;   date_outcome date_first_contact date_last_contact ct_value</span></span>
<span><span class="co">#&gt; 1         &lt;NA&gt;               &lt;NA&gt;              &lt;NA&gt;       NA</span></span>
<span><span class="co">#&gt; 2         &lt;NA&gt;         2023-01-01        2023-01-04     25.2</span></span>
<span><span class="co">#&gt; 3         &lt;NA&gt;         2023-01-02        2023-01-04       NA</span></span>
<span><span class="co">#&gt; 4         &lt;NA&gt;         2022-12-29        2023-01-03       NA</span></span>
<span><span class="co">#&gt; 5         &lt;NA&gt;         2023-01-03        2023-01-05     25.2</span></span>
<span><span class="co">#&gt; 6         &lt;NA&gt;         2023-01-04        2023-01-07       NA</span></span></code></pre></div>
</details><details class="chunk-details" open><summary class="chunk-summary"><span class="chunk-summary-text">Code</span></summary><div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">outbreak</span><span class="op">$</span><span class="va">contacts</span><span class="op">)</span></span>
<span><span class="co">#&gt;           from                  to age sex date_first_contact date_last_contact</span></span>
<span><span class="co">#&gt; 1 Pierre Salat       Matthew Piske  13   m         2023-01-01        2023-01-04</span></span>
<span><span class="co">#&gt; 2 Pierre Salat      Chandler Geyer  62   f         2023-01-02        2023-01-03</span></span>
<span><span class="co">#&gt; 3 Pierre Salat Josette De La Torre   7   f         2023-01-01        2023-01-04</span></span>
<span><span class="co">#&gt; 4 Pierre Salat       Carsen Harris  75   f         2023-01-02        2023-01-04</span></span>
<span><span class="co">#&gt; 5 Pierre Salat          Ruth Anaya  49   f         2022-12-29        2023-01-04</span></span>
<span><span class="co">#&gt; 6 Pierre Salat  Fat'hiyaa el-Salam   1   f         2022-12-29        2023-01-03</span></span>
<span><span class="co">#&gt;   was_case         status</span></span>
<span><span class="co">#&gt; 1        Y           case</span></span>
<span><span class="co">#&gt; 2        N under_followup</span></span>
<span><span class="co">#&gt; 3        N under_followup</span></span>
<span><span class="co">#&gt; 4        Y           case</span></span>
<span><span class="co">#&gt; 5        N under_followup</span></span>
<span><span class="co">#&gt; 6        Y           case</span></span></code></pre></div>
</details><div class="alert alert-warning">
<p>The <code>contact_distribution</code> requires a density function instead of a random number generation function (i.e.Â <code><a href="https://rdrr.io/r/stats/Poisson.html" class="external-link">dpois()</a></code> or <code><a href="https://rdrr.io/r/stats/NegBinomial.html" class="external-link">dnbinom()</a></code> instead of <code><a href="https://rdrr.io/r/stats/Poisson.html" class="external-link">rpois()</a></code> or <code><a href="https://rdrr.io/r/stats/NegBinomial.html" class="external-link">rnbinom()</a></code>). This is due to the branching process simulation adjusting the sampling of contacts to take into account the random network effect.</p>
</div>
<p>The same approach of using anonymous functions can be used in <code><a href="../reference/sim_linelist.html">sim_linelist()</a></code> and <code><a href="../reference/sim_contacts.html">sim_contacts()</a></code>.</p>
</div>
<div class="section level2">
<h2 id="simulating-without-hospitalisations-andor-deaths">Simulating without hospitalisations and/or deaths<a class="anchor" aria-label="anchor" href="#simulating-without-hospitalisations-andor-deaths"></a>
</h2>
<p>The onset-to-hospitalisation (<code>onset_to_hosp</code>) and onset-to-death (<code>onset_to_death</code>) arguments can also be set to <code>NULL</code> in which case the date of admission (<code>$date_admission</code>) and date of death (<code>$date_death</code>) column in the line list will contains <code>NA</code>s.</p>
<details class="chunk-details" open><summary class="chunk-summary"><span class="chunk-summary-text">Code</span></summary><div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">linelist</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sim_linelist.html">sim_linelist</a></span><span class="op">(</span></span>
<span>  contact_distribution <span class="op">=</span> <span class="va">contact_distribution</span>,</span>
<span>  infectious_period <span class="op">=</span> <span class="va">infectious_period</span>,</span>
<span>  prob_infection <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>  onset_to_hosp <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  onset_to_death <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  hosp_risk <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  hosp_death_risk <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  non_hosp_death_risk <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">linelist</span><span class="op">)</span></span>
<span><span class="co">#&gt;   id             case_name case_type sex age date_onset date_admission</span></span>
<span><span class="co">#&gt; 1  1        Jeffree O'Blia  probable   m  79 2023-01-01           &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 2  2    Daifallah el-Popal  probable   m  79 2023-01-01           &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 3  3        Tuhfa al-Morad  probable   f  80 2023-01-01           &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 4  8    Margarita Goodbear confirmed   f  50 2023-01-01           &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 5  9             Emma Yang  probable   f  44 2023-01-01           &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 6 12 Farajallah al-Baddour confirmed   m  10 2023-01-02           &lt;NA&gt;</span></span>
<span><span class="co">#&gt;     outcome date_outcome date_first_contact date_last_contact ct_value</span></span>
<span><span class="co">#&gt; 1 recovered         &lt;NA&gt;               &lt;NA&gt;              &lt;NA&gt;       NA</span></span>
<span><span class="co">#&gt; 2 recovered         &lt;NA&gt;         2023-01-01        2023-01-03       NA</span></span>
<span><span class="co">#&gt; 3 recovered         &lt;NA&gt;         2022-12-30        2023-01-02       NA</span></span>
<span><span class="co">#&gt; 4 recovered         &lt;NA&gt;         2022-12-31        2023-01-04     23.1</span></span>
<span><span class="co">#&gt; 5 recovered         &lt;NA&gt;         2022-12-31        2023-01-02       NA</span></span>
<span><span class="co">#&gt; 6 recovered         &lt;NA&gt;         2023-01-01        2023-01-03     23.1</span></span></code></pre></div>
</details><p>This same functionality also applies to <code><a href="../reference/sim_outbreak.html">sim_outbreak()</a></code>. In the above example, <code>hosp_risk</code>, <code>hosp_death_risk</code> and <code>non_hosp_death_risk</code> are set to <code>NULL</code>. If the risk (<code>*_risk</code>) arguments are left as numeric inputs but the corresponding onset-to-event distribution (i.e.Â <code>hosp_risk</code> for <code>onset_to_hosp</code> and <code>hosp_death_risk</code> and <code>non_hosp_death_risk</code> for <code>onset_to_death</code>) are set to <code>NULL</code> a warning will be produced. The example above simulates with neither hospitalisation or deaths, but these do not need to be <em>turned off</em> together, and one or the other can be set to <code>NULL</code> with their corresponding risk arguments.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Joshua W. Lambert, Carmen Tamayo.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
