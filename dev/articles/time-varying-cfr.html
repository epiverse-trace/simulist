<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="simulist">
<title>Time-varying case fatality risk â€¢ simulist</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Time-varying case fatality risk">
<meta property="og:description" content="simulist">
<meta property="og:image" content="https://epiverse-trace.github.io/simulist/logo.svg">
<meta name="robots" content="noindex">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Google tag (gtag.js) --><script async src="https://www.googletagmanager.com/gtag/js?id=G-XZ471458FQ"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-XZ471458FQ');
</script>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-dark" data-bs-theme="dark"><div class="container">
    
    <a href="https://epiverse-trace.github.io/" class="external-link"><img src="../logo_white.svg" id="logo" alt="Epiverse-TRACE"></a>
    <a class="navbar-brand me-2" href="../index.html">simulist</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">0.2.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../articles/simulist.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <h6 class="dropdown-header" data-toc-skip>Customising simulated outbreak</h6>
    <a class="dropdown-item" href="../articles/age-strat-risks.html">Age-stratified hospitalisation and death risks</a>
    <a class="dropdown-item" href="../articles/age-struct-pop.html">Age structured population</a>
    <a class="dropdown-item" href="../articles/time-varying-cfr.html">Time-varying case fatality risk</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Wrangling and plotting data</h6>
    <a class="dropdown-item" href="../articles/wrangling-linelist.html">Wrangling simulated outbreak data</a>
    <a class="dropdown-item" href="../articles/vis-linelist.html">Visualising simulated data</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Developer Documentation</h6>
    <a class="dropdown-item" href="../articles/design-principles.html">Design Principles for {simulist}</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="navbar-nav">
<li><form class="form-inline" role="search">
<input type="search" class="form-control" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/epiverse-trace/simulist/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">


<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Time-varying case fatality risk</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/epiverse-trace/simulist/blob/HEAD/vignettes/time-varying-cfr.Rmd" class="external-link"><code>vignettes/time-varying-cfr.Rmd</code></a></small>
      <div class="d-none name"><code>time-varying-cfr.Rmd</code></div>
    </div>

    
    
<div class="alert alert-info">
<p>If you are unfamiliar with the {simulist} package or the <code><a href="../reference/sim_linelist.html">sim_linelist()</a></code> function <a href="simulist.html">Get Started vignette</a> is a great place to start.</p>
</div>
<p>This vignette demonstrates how to simulate line list data using the time-varying case fatality risk and gives an overview of the methodological details.</p>
<div class="alert alert-secondary">
<p>The {simulist} R package uses an individual-based branching process simulation to generate contacts and cases for line list and contact tracing data. The time-varying case fatality risk feature provides a way to incorporate aspects of epidemics where the risk of death may decrease through time, potentially due to improved medical treatment, vaccination or viral evolution. It is also possible to model increasing case fatality risk through time, or a stepwise risk function where the risk of death shifts between states.</p>
<p>The time-varying case fatality risk implemented in this package is not meant to explicitly model these factors, but rather to give the user an option to more closely resemble fatality risk through the course of an epidemic, possibly because there is data on this, or just to simulate data that has these characteristics.</p>
<p>See the <a href="https://epiverse-trace.github.io/epidemics/index.html" class="external-link">{epidemics} R package</a> for a population-level epidemic simulation package with explicit interventions and vaccinations.</p>
</div>
<p>Given that setting a time-varying case fatality risk is not needed for most use cases of the {simulist} R package, this feature uses the <code>config</code> argument in the <code>sim_*()</code> functions. Therefore, the time-varying case fatality risk can be set when calling <code><a href="../reference/create_config.html">create_config()</a></code> (see below for details).</p>
<details class="chunk-details" open><summary class="chunk-summary"><span class="chunk-summary-text">Code</span></summary><div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/epiverse-trace/simulist" class="external-link">simulist</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/epiverse-trace/epiparameter/" class="external-link">epiparameter</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyr.tidyverse.org" class="external-link">tidyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Attaching package: 'dplyr'</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:stats':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     filter, lag</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:base':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     intersect, setdiff, setequal, union</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://www.reconverse.org/incidence2/" class="external-link">incidence2</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; Loading required package: grates</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span></code></pre></div>
</details><p>First we will demonstrate the default setting of a constant case fatality risk throughout an epidemic.</p>
<p>We load the required delay distributions using the {epiparameter} package, by either manually creating them (contact distribution and infectious period), or load them from the {epiparameter} library of epidemiological parameters (onset-to-hospitalisation and onset-to-death).</p>
<details class="chunk-details" open><summary class="chunk-summary"><span class="chunk-summary-text">Code</span></summary><div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">contact_distribution</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://epiverse-trace.github.io/epiparameter/reference/epidist.html" class="external-link">epidist</a></span><span class="op">(</span></span>
<span>  disease <span class="op">=</span> <span class="st">"COVID-19"</span>,</span>
<span>  epi_dist <span class="op">=</span> <span class="st">"contact distribution"</span>,</span>
<span>  prob_distribution <span class="op">=</span> <span class="st">"pois"</span>,</span>
<span>  prob_distribution_params <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>mean <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Citation cannot be created as author, year, journal or title is missing</span></span>
<span></span>
<span><span class="va">infect_period</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://epiverse-trace.github.io/epiparameter/reference/epidist.html" class="external-link">epidist</a></span><span class="op">(</span></span>
<span>  disease <span class="op">=</span> <span class="st">"COVID-19"</span>,</span>
<span>  epi_dist <span class="op">=</span> <span class="st">"infectious period"</span>,</span>
<span>  prob_distribution <span class="op">=</span> <span class="st">"gamma"</span>,</span>
<span>  prob_distribution_params <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>shape <span class="op">=</span> <span class="fl">3</span>, scale <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Citation cannot be created as author, year, journal or title is missing</span></span>
<span></span>
<span><span class="co"># get onset to hospital admission from {epiparameter} database</span></span>
<span><span class="va">onset_to_hosp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://epiverse-trace.github.io/epiparameter/reference/epidist_db.html" class="external-link">epidist_db</a></span><span class="op">(</span></span>
<span>  disease <span class="op">=</span> <span class="st">"COVID-19"</span>,</span>
<span>  epi_dist <span class="op">=</span> <span class="st">"onset to hospitalisation"</span>,</span>
<span>  single_epidist <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Using Linton N, Kobayashi T, Yang Y, Hayashi K, Akhmetzhanov A, Jung S, Yuan</span></span>
<span><span class="co">#&gt; B, Kinoshita R, Nishiura H (2020). "Incubation Period and Other</span></span>
<span><span class="co">#&gt; Epidemiological Characteristics of 2019 Novel Coronavirus Infections</span></span>
<span><span class="co">#&gt; with Right Truncation: A Statistical Analysis of Publicly Available</span></span>
<span><span class="co">#&gt; Case Data." _Journal of Clinical Medicine_. doi:10.3390/jcm9020538</span></span>
<span><span class="co">#&gt; &lt;https://doi.org/10.3390/jcm9020538&gt;.. </span></span>
<span><span class="co">#&gt; To retrieve the citation use the 'get_citation' function</span></span>
<span></span>
<span><span class="co"># get onset to death from {epiparameter} database</span></span>
<span><span class="va">onset_to_death</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://epiverse-trace.github.io/epiparameter/reference/epidist_db.html" class="external-link">epidist_db</a></span><span class="op">(</span></span>
<span>  disease <span class="op">=</span> <span class="st">"COVID-19"</span>,</span>
<span>  epi_dist <span class="op">=</span> <span class="st">"onset to death"</span>,</span>
<span>  single_epidist <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Using Linton N, Kobayashi T, Yang Y, Hayashi K, Akhmetzhanov A, Jung S, Yuan</span></span>
<span><span class="co">#&gt; B, Kinoshita R, Nishiura H (2020). "Incubation Period and Other</span></span>
<span><span class="co">#&gt; Epidemiological Characteristics of 2019 Novel Coronavirus Infections</span></span>
<span><span class="co">#&gt; with Right Truncation: A Statistical Analysis of Publicly Available</span></span>
<span><span class="co">#&gt; Case Data." _Journal of Clinical Medicine_. doi:10.3390/jcm9020538</span></span>
<span><span class="co">#&gt; &lt;https://doi.org/10.3390/jcm9020538&gt;.. </span></span>
<span><span class="co">#&gt; To retrieve the citation use the 'get_citation' function</span></span></code></pre></div>
</details><p>We set the seed to ensure we have the same output each time the vignette is rendered. When using {simulist}, setting the seed is not required unless you need to simulate the same line list multiple times.</p>
<details class="chunk-details" open><summary class="chunk-summary"><span class="chunk-summary-text">Code</span></summary><div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span></code></pre></div>
</details><div class="section level2">
<h2 id="constant-case-fatality-risk">Constant case fatality risk<a class="anchor" aria-label="anchor" href="#constant-case-fatality-risk"></a>
</h2>
<p>When calling the <code><a href="../reference/create_config.html">create_config()</a></code> function the default output contains a list element named <code>time_varying_death_risk</code> set to <code>NULL</code>. This corresponds to a constant case fatality risk over time, which is controlled by the <code>hosp_death_risk</code> and <code>non_hosp_death_risk</code> arguments. The defaults for these two arguments are:</p>
<ul>
<li>death risk when hospitalised (<code>hosp_death_risk</code>): <code>0.5</code> (50%)</li>
<li>death risk outside of hospitals (<code>non_hosp_death_risk</code>): <code>0.05</code> (5%)</li>
</ul>
<p>In this example we set them explicitly to be clear which risks weâ€™re using, but otherwise the <code>hosp_death_risk</code>, <code>non_hosp_death_risk</code> and <code>config</code> do not need to be specified and can use their default values.</p>
<p>For all examples in this vignette we will set the epidemic size to be between 500 and 1,000 cases, to ensure that we can clearly see the case fatality patterns in the data.</p>
<div class="alert alert-info">
<p>See the <a href="simulist.html#Controlling-outbreak-size">Get Started vignette section on Controlling Outbreak Size</a> for more information on this.</p>
</div>
<details class="chunk-details" open><summary class="chunk-summary"><span class="chunk-summary-text">Code</span></summary><div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">linelist</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sim_linelist.html">sim_linelist</a></span><span class="op">(</span></span>
<span>  contact_distribution <span class="op">=</span> <span class="va">contact_distribution</span>,</span>
<span>  infect_period <span class="op">=</span> <span class="va">infect_period</span>,</span>
<span>  prob_infect <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>  onset_to_hosp <span class="op">=</span> <span class="va">onset_to_hosp</span>,</span>
<span>  onset_to_death <span class="op">=</span> <span class="va">onset_to_death</span>,</span>
<span>  hosp_death_risk <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>  non_hosp_death_risk <span class="op">=</span> <span class="fl">0.05</span>,</span>
<span>  outbreak_size <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">500</span>, <span class="fl">1000</span><span class="op">)</span>,</span>
<span>  config <span class="op">=</span> <span class="fu"><a href="../reference/create_config.html">create_config</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># first 6 rows of linelist</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">linelist</span><span class="op">)</span></span>
<span><span class="co">#&gt;   id        case_name case_type sex age date_onset date_admission   outcome</span></span>
<span><span class="co">#&gt; 1  1 Brandon Hairston  probable   m  60 2023-01-01           &lt;NA&gt; recovered</span></span>
<span><span class="co">#&gt; 2  2     Grisel Price confirmed   f  54 2023-01-04           &lt;NA&gt; recovered</span></span>
<span><span class="co">#&gt; 3  4    Alam Terrones  probable   m  12 2023-01-05           &lt;NA&gt; recovered</span></span>
<span><span class="co">#&gt; 4  6 Naadir al-Hallal suspected   m  45 2023-01-07           &lt;NA&gt; recovered</span></span>
<span><span class="co">#&gt; 5  7      Tiana Kirby confirmed   f  11 2023-01-09     2023-01-09 recovered</span></span>
<span><span class="co">#&gt; 6  8        Jacob Dai confirmed   m  36 2023-01-08           &lt;NA&gt; recovered</span></span>
<span><span class="co">#&gt;   date_outcome date_first_contact date_last_contact ct_value</span></span>
<span><span class="co">#&gt; 1         &lt;NA&gt;               &lt;NA&gt;              &lt;NA&gt;       NA</span></span>
<span><span class="co">#&gt; 2         &lt;NA&gt;         2023-01-03        2023-01-06     25.7</span></span>
<span><span class="co">#&gt; 3         &lt;NA&gt;         2022-12-30        2023-01-02       NA</span></span>
<span><span class="co">#&gt; 4         &lt;NA&gt;         2023-01-03        2023-01-06       NA</span></span>
<span><span class="co">#&gt; 5         &lt;NA&gt;         2023-01-01        2023-01-05     25.7</span></span>
<span><span class="co">#&gt; 6         &lt;NA&gt;         2023-01-01        2023-01-05     25.7</span></span></code></pre></div>
</details><p>To visualise the incidence of cases and deaths over time we will use the <a href="https://www.reconverse.org/incidence2/" class="external-link">{incidence2} R package</a>.</p>
<div class="alert alert-info">
<p>For more information on using {incidence2} to plot line list data see the <a href="vis-linelist.html">Visualising simulated data</a> vignette.</p>
</div>
<p>Before converting the line list <code>&lt;data.frame&gt;</code> to an <code>&lt;incidence&gt;</code> object we need to ungroup the outcome columns into their own columns using the <a href="https://tidyr.tidyverse.org/" class="external-link">{tidyr}</a> and <a href="https://dplyr.tidyverse.org/" class="external-link">{dplyr}</a> R packages from the <a href="https://www.tidyverse.org/" class="external-link">Tidyverse</a>.</p>
<details class="chunk-details" open><summary class="chunk-summary"><span class="chunk-summary-text">Code</span></summary><div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">linelist</span> <span class="op">&lt;-</span> <span class="va">linelist</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_wider.html" class="external-link">pivot_wider</a></span><span class="op">(</span></span>
<span>    names_from <span class="op">=</span> <span class="va">outcome</span>,</span>
<span>    values_from <span class="op">=</span> <span class="va">date_outcome</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">rename</a></span><span class="op">(</span></span>
<span>    date_death <span class="op">=</span> <span class="va">died</span>,</span>
<span>    date_recovery <span class="op">=</span> <span class="va">recovered</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
</details><details class="chunk-details" open><summary class="chunk-summary"><span class="chunk-summary-text">Code</span></summary><div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">daily</span> <span class="op">&lt;-</span> <span class="fu"><a href="http://www.reconverse.org/incidence2/reference/incidence.html" class="external-link">incidence</a></span><span class="op">(</span></span>
<span>  <span class="va">linelist</span>,</span>
<span>  date_index <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>    onset <span class="op">=</span> <span class="st">"date_onset"</span>,</span>
<span>    death <span class="op">=</span> <span class="st">"date_death"</span></span>
<span>  <span class="op">)</span>,</span>
<span>  interval <span class="op">=</span> <span class="st">"daily"</span></span>
<span><span class="op">)</span></span>
<span><span class="va">daily</span> <span class="op">&lt;-</span> <span class="fu"><a href="http://www.reconverse.org/incidence2/reference/complete_dates.html" class="external-link">complete_dates</a></span><span class="op">(</span><span class="va">daily</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">daily</span><span class="op">)</span></span></code></pre></div>
</details><div class="figure">
<span style="display:block;" id="fig:plot-onset-hospitalisation"></span>
<img src="time-varying-cfr_files/figure-html/plot-onset-hospitalisation-1.png" alt="Daily incidence of cases from symptom onset and incidence of deaths. Case fatality risk for hospitalised individuals is 0.5 and the risk for non-hospitalised individuals is 0.05, and these risks are constant through time."><p class="caption">
Figure 1: Daily incidence of cases from symptom onset and incidence of deaths. Case fatality risk for hospitalised individuals is 0.5 and the risk for non-hospitalised individuals is 0.05, and these risks are constant through time.
</p>
</div>
</div>
<div class="section level2">
<h2 id="higher-risk-of-case-fatality">Higher risk of case fatality<a class="anchor" aria-label="anchor" href="#higher-risk-of-case-fatality"></a>
</h2>
<p>We repeat the above simulation but increase the risk of case fatality for both hospitalised (<code>hosp_death_risk</code>) and non-hospitalised (<code>non_hosp_death_risk</code>) individuals infected.</p>
<details class="chunk-details" open><summary class="chunk-summary"><span class="chunk-summary-text">Code</span></summary><div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">linelist</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sim_linelist.html">sim_linelist</a></span><span class="op">(</span></span>
<span>  contact_distribution <span class="op">=</span> <span class="va">contact_distribution</span>,</span>
<span>  infect_period <span class="op">=</span> <span class="va">infect_period</span>,</span>
<span>  prob_infect <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>  onset_to_hosp <span class="op">=</span> <span class="va">onset_to_hosp</span>,</span>
<span>  onset_to_death <span class="op">=</span> <span class="va">onset_to_death</span>,</span>
<span>  hosp_death_risk <span class="op">=</span> <span class="fl">0.9</span>,</span>
<span>  non_hosp_death_risk <span class="op">=</span> <span class="fl">0.75</span>,</span>
<span>  outbreak_size <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">500</span>, <span class="fl">1000</span><span class="op">)</span>,</span>
<span>  config <span class="op">=</span> <span class="fu"><a href="../reference/create_config.html">create_config</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: Number of cases exceeds maximum outbreak size. </span></span>
<span><span class="co">#&gt; Returning data early with 1026 cases and 1994 total contacts (including cases).</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">linelist</span><span class="op">)</span></span>
<span><span class="co">#&gt;   id         case_name case_type sex age date_onset date_admission outcome</span></span>
<span><span class="co">#&gt; 1  1  Taiseer el-Azimi suspected   m  42 2023-01-01           &lt;NA&gt;    died</span></span>
<span><span class="co">#&gt; 2  2   Nathaniel Brown suspected   m  25 2023-01-06           &lt;NA&gt;    died</span></span>
<span><span class="co">#&gt; 3  4       Sarah Walls  probable   f  64 2023-01-07     2023-01-07    died</span></span>
<span><span class="co">#&gt; 4  6       Marina Bean suspected   f  46 2023-01-09           &lt;NA&gt;    died</span></span>
<span><span class="co">#&gt; 5  8   Shahada Buckner  probable   f  78 2023-01-08           &lt;NA&gt;    died</span></span>
<span><span class="co">#&gt; 6 10 Shafaaa al-Abbasi  probable   f  13 2023-01-15           &lt;NA&gt;    died</span></span>
<span><span class="co">#&gt;   date_outcome date_first_contact date_last_contact ct_value</span></span>
<span><span class="co">#&gt; 1   2023-02-03               &lt;NA&gt;              &lt;NA&gt;       NA</span></span>
<span><span class="co">#&gt; 2   2023-01-26         2022-12-29        2023-01-03       NA</span></span>
<span><span class="co">#&gt; 3   2023-01-21         2023-01-05        2023-01-07       NA</span></span>
<span><span class="co">#&gt; 4   2023-01-25         2023-01-09        2023-01-11       NA</span></span>
<span><span class="co">#&gt; 5   2023-01-20         2023-01-08        2023-01-09       NA</span></span>
<span><span class="co">#&gt; 6   2023-02-17         2023-01-07        2023-01-11       NA</span></span></code></pre></div>
</details><details class="chunk-details" open><summary class="chunk-summary"><span class="chunk-summary-text">Code</span></summary><div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">linelist</span> <span class="op">&lt;-</span> <span class="va">linelist</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_wider.html" class="external-link">pivot_wider</a></span><span class="op">(</span></span>
<span>    names_from <span class="op">=</span> <span class="va">outcome</span>,</span>
<span>    values_from <span class="op">=</span> <span class="va">date_outcome</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">rename</a></span><span class="op">(</span></span>
<span>    date_death <span class="op">=</span> <span class="va">died</span>,</span>
<span>    date_recovery <span class="op">=</span> <span class="va">recovered</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
</details><details class="chunk-details" open><summary class="chunk-summary"><span class="chunk-summary-text">Code</span></summary><div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">daily</span> <span class="op">&lt;-</span> <span class="fu"><a href="http://www.reconverse.org/incidence2/reference/incidence.html" class="external-link">incidence</a></span><span class="op">(</span></span>
<span>  <span class="va">linelist</span>,</span>
<span>  date_index <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>    onset <span class="op">=</span> <span class="st">"date_onset"</span>,</span>
<span>    death <span class="op">=</span> <span class="st">"date_death"</span></span>
<span>  <span class="op">)</span>,</span>
<span>  interval <span class="op">=</span> <span class="st">"daily"</span></span>
<span><span class="op">)</span></span>
<span><span class="va">daily</span> <span class="op">&lt;-</span> <span class="fu"><a href="http://www.reconverse.org/incidence2/reference/complete_dates.html" class="external-link">complete_dates</a></span><span class="op">(</span><span class="va">daily</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">daily</span><span class="op">)</span></span></code></pre></div>
</details><div class="figure">
<span style="display:block;" id="fig:plot-onset-death-higher-risk"></span>
<img src="time-varying-cfr_files/figure-html/plot-onset-death-higher-risk-1.png" alt="Daily incidence of cases from symptom onset and incidence of deaths. Case fatality risk for hospitalised individuals is 0.9 and the risk for non-hospitalised individuals is 0.75, and these risks are constant through time."><p class="caption">
Figure 2: Daily incidence of cases from symptom onset and incidence of deaths. Case fatality risk for hospitalised individuals is 0.9 and the risk for non-hospitalised individuals is 0.75, and these risks are constant through time.
</p>
</div>
</div>
<div class="section level2">
<h2 id="continuous-time-varying-case-fatality-risk">Continuous time-varying case fatality risk<a class="anchor" aria-label="anchor" href="#continuous-time-varying-case-fatality-risk"></a>
</h2>
<p>Now weâ€™ve seen what the constant case fatality risk simulations look like, we can simulate with a time-varying function for the risk.</p>
<p>This is setup by calling the <code><a href="../reference/create_config.html">create_config()</a></code> function, and providing an anonymous function with two arguments, <code>risk</code> and <code>time</code>, to <code>time_varying_death_risk</code>. This function will then use the relevant risk (e.g.Â <code>hosp_death_risk</code>) and the time an individual is infected and calculates the probability (or risk) of death.</p>
<p>The <code><a href="../reference/create_config.html">create_config()</a></code> function has no named arguments, and the argument you are modifying needs to be matched by name exactly (case sensitive). See <code>?create_config()</code> for documentation.</p>
<details class="chunk-details" open><summary class="chunk-summary"><span class="chunk-summary-text">Code</span></summary><div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">config</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_config.html">create_config</a></span><span class="op">(</span></span>
<span>  time_varying_death_risk <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">risk</span>, <span class="va">time</span><span class="op">)</span> <span class="va">risk</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="op">-</span><span class="fl">0.05</span> <span class="op">*</span> <span class="va">time</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
</details><p>Here we set the case fatality risk to exponentially decrease through time. This will provide a shallow (monotonic) decline of case fatality through the simulated epidemic.</p>
<details class="chunk-details"><summary class="chunk-summary"><span class="chunk-summary-text">Code</span></summary><div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">exp_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  time <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">150</span>,</span>
<span>  value <span class="op">=</span> <span class="va">config</span><span class="op">$</span><span class="fu">time_varying_death_risk</span><span class="op">(</span>risk <span class="op">=</span> <span class="fl">0.9</span>, time <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">150</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">exp_df</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span>mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">time</span>, y <span class="op">=</span> <span class="va">value</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html" class="external-link">scale_y_continuous</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"Value"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html" class="external-link">scale_x_continuous</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"Time (Days)"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</details><div class="figure">
<span style="display:block;" id="fig:plot-exponential-dist"></span>
<img src="time-varying-cfr_files/figure-html/plot-exponential-dist-1.png" alt="The time-varying hospitalised case fatality risk function (`config$time_varying_death_risk`) throughout the epidemic. In this case the hospitalised risks (`hosp_death_risk`) are at their maximum value at day 0 and decline through time, with risk approaching zero at around day 100."><p class="caption">
Figure 3: The time-varying hospitalised case fatality risk function (<code>config$time_varying_death_risk</code>) throughout the epidemic. In this case the hospitalised risks (<code>hosp_death_risk</code>) are at their maximum value at day 0 and decline through time, with risk approaching zero at around day 100.
</p>
</div>
<div class="alert alert-info">
<p><em>Advanced</em></p>
<p>The time-varying case fatality risk function modifies the the death risk specified by <code>hosp_death_risk</code> and <code>non_hosp_death_risk</code>. In this example, the user-supplied <code>hosp_death_risk</code> and <code>non_hosp_death_risk</code> are the maximum values, because the user-supplied time-varying function is declining over time, however, a user-supplied function may also increase over time, or fluctuate. The requirements are that the time-varying case fatality risk for both hospitalised and non-hospitalised infections must be between 0 and 1, otherwise the function will error.</p>
<p>In the example below <code>hosp_death_risk</code> is <code>0.9</code> and <code>non_hosp_death_risk</code> is <code>0.75</code>, and the time-varying case fatality risk function is an exponential decline. This means that on day 0 of the epidemic (i.e.Â first infection seeds the outbreak) the risks will be <code>0.9</code> and <code>0.75</code>. But any time after the start of the epidemic (<span class="math inline">\(t_0 + \Delta t\)</span>) the risks will be lower, and when the exponential function approaches zero the risk of a case dying will also go to zero.</p>
</div>
<p>Simulating with the time-varying case fatality risk:</p>
<details class="chunk-details" open><summary class="chunk-summary"><span class="chunk-summary-text">Code</span></summary><div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">linelist</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sim_linelist.html">sim_linelist</a></span><span class="op">(</span></span>
<span>  contact_distribution <span class="op">=</span> <span class="va">contact_distribution</span>,</span>
<span>  infect_period <span class="op">=</span> <span class="va">infect_period</span>,</span>
<span>  prob_infect <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>  onset_to_hosp <span class="op">=</span> <span class="va">onset_to_hosp</span>,</span>
<span>  onset_to_death <span class="op">=</span> <span class="va">onset_to_death</span>,</span>
<span>  hosp_death_risk <span class="op">=</span> <span class="fl">0.9</span>,</span>
<span>  non_hosp_death_risk <span class="op">=</span> <span class="fl">0.75</span>,</span>
<span>  outbreak_size <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">500</span>, <span class="fl">1000</span><span class="op">)</span>,</span>
<span>  config <span class="op">=</span> <span class="va">config</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">linelist</span><span class="op">)</span></span>
<span><span class="co">#&gt;   id         case_name case_type sex age date_onset date_admission   outcome</span></span>
<span><span class="co">#&gt; 1  1   Shirlya Whitney confirmed   f  20 2023-01-01           &lt;NA&gt;      died</span></span>
<span><span class="co">#&gt; 2  2     Sahl al-Hasen confirmed   m  59 2023-01-06           &lt;NA&gt;      died</span></span>
<span><span class="co">#&gt; 3  3        Ace Truong confirmed   m   2 2023-01-02           &lt;NA&gt; recovered</span></span>
<span><span class="co">#&gt; 4  6 Shawqi al-Abdella suspected   m   5 2023-01-07           &lt;NA&gt; recovered</span></span>
<span><span class="co">#&gt; 5  8 Taahir el-Bagheri confirmed   m  22 2023-01-08     2023-01-08 recovered</span></span>
<span><span class="co">#&gt; 6 11    Lucas Noterman suspected   m  56 2023-01-04     2023-01-04 recovered</span></span>
<span><span class="co">#&gt;   date_outcome date_first_contact date_last_contact ct_value</span></span>
<span><span class="co">#&gt; 1   2023-01-18               &lt;NA&gt;              &lt;NA&gt;     24.4</span></span>
<span><span class="co">#&gt; 2   2023-01-12         2023-01-02        2023-01-05     24.4</span></span>
<span><span class="co">#&gt; 3         &lt;NA&gt;         2023-01-03        2023-01-06     24.4</span></span>
<span><span class="co">#&gt; 4         &lt;NA&gt;         2023-01-04        2023-01-08       NA</span></span>
<span><span class="co">#&gt; 5         &lt;NA&gt;         2023-01-05        2023-01-07     24.4</span></span>
<span><span class="co">#&gt; 6         &lt;NA&gt;         2022-12-27        2023-01-02       NA</span></span></code></pre></div>
</details><details class="chunk-details" open><summary class="chunk-summary"><span class="chunk-summary-text">Code</span></summary><div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">linelist</span> <span class="op">&lt;-</span> <span class="va">linelist</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_wider.html" class="external-link">pivot_wider</a></span><span class="op">(</span></span>
<span>    names_from <span class="op">=</span> <span class="va">outcome</span>,</span>
<span>    values_from <span class="op">=</span> <span class="va">date_outcome</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">rename</a></span><span class="op">(</span></span>
<span>    date_death <span class="op">=</span> <span class="va">died</span>,</span>
<span>    date_recovery <span class="op">=</span> <span class="va">recovered</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
</details><details class="chunk-details" open><summary class="chunk-summary"><span class="chunk-summary-text">Code</span></summary><div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">daily</span> <span class="op">&lt;-</span> <span class="fu"><a href="http://www.reconverse.org/incidence2/reference/incidence.html" class="external-link">incidence</a></span><span class="op">(</span></span>
<span>  <span class="va">linelist</span>,</span>
<span>  date_index <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>    onset <span class="op">=</span> <span class="st">"date_onset"</span>,</span>
<span>    death <span class="op">=</span> <span class="st">"date_death"</span></span>
<span>  <span class="op">)</span>,</span>
<span>  interval <span class="op">=</span> <span class="st">"daily"</span></span>
<span><span class="op">)</span></span>
<span><span class="va">daily</span> <span class="op">&lt;-</span> <span class="fu"><a href="http://www.reconverse.org/incidence2/reference/complete_dates.html" class="external-link">complete_dates</a></span><span class="op">(</span><span class="va">daily</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">daily</span><span class="op">)</span></span></code></pre></div>
</details><div class="figure">
<span style="display:block;" id="fig:plot-onset-death-time-varying-cfr"></span>
<img src="time-varying-cfr_files/figure-html/plot-onset-death-time-varying-cfr-1.png" alt="Daily incidence of cases from symptom onset and incidence of deaths. The baseline case fatality risk for hospitalised individuals is 0.9 and for non-hospitalised individuals is 0.75, and these decline exponentially through time."><p class="caption">
Figure 4: Daily incidence of cases from symptom onset and incidence of deaths. The baseline case fatality risk for hospitalised individuals is 0.9 and for non-hospitalised individuals is 0.75, and these decline exponentially through time.
</p>
</div>
</div>
<div class="section level2">
<h2 id="stepwise-time-varying-case-fatality-risk">Stepwise time-varying case fatality risk<a class="anchor" aria-label="anchor" href="#stepwise-time-varying-case-fatality-risk"></a>
</h2>
<p>In addition to a continuously varying case fatality risk function, the simulation can also work with stepwise (or piecewise) functions. This is where the risk will instantaneously change at a given point in time to another risk level.</p>
<p>To achieve this, we again specify an anonymous function in <code><a href="../reference/create_config.html">create_config()</a></code>, but have the risk of a case dying set as the baseline <code>hosp_death_risk</code> and <code>non_hosp_death_risk</code> for the first 60 days of the outbreak and then become zero (i.e.Â if an individual is infected after day 60 they will definitely recover).</p>
<details class="chunk-details" open><summary class="chunk-summary"><span class="chunk-summary-text">Code</span></summary><div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">config</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_config.html">create_config</a></span><span class="op">(</span></span>
<span>  time_varying_death_risk <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">risk</span>, <span class="va">time</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span>test <span class="op">=</span> <span class="va">time</span> <span class="op">&lt;</span> <span class="fl">60</span>, yes <span class="op">=</span> <span class="va">risk</span>, no <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
</details><details class="chunk-details"><summary class="chunk-summary"><span class="chunk-summary-text">Code</span></summary><div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">stepwise_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  time <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">150</span>,</span>
<span>  value <span class="op">=</span> <span class="va">config</span><span class="op">$</span><span class="fu">time_varying_death_risk</span><span class="op">(</span>risk <span class="op">=</span> <span class="fl">0.9</span>, time <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">150</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">stepwise_df</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span>mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">time</span>, y <span class="op">=</span> <span class="va">value</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html" class="external-link">scale_y_continuous</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"Value"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html" class="external-link">scale_x_continuous</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"Time (Days)"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</details><div class="figure">
<span style="display:block;" id="fig:plot-stepwise-dist"></span>
<img src="time-varying-cfr_files/figure-html/plot-stepwise-dist-1.png" alt="The time-varying case fatality risk function (`config$time_varying_death_risk`) for the hospitalised death risk (`hosp_death_risk`) and non-hospitalised death risk (`non_hosp_death_risk`) throughout the epidemic. In this case the risks are at their user-supplied values from day 0 to day 60, and then become 0 onwards."><p class="caption">
Figure 5: The time-varying case fatality risk function (<code>config$time_varying_death_risk</code>) for the hospitalised death risk (<code>hosp_death_risk</code>) and non-hospitalised death risk (<code>non_hosp_death_risk</code>) throughout the epidemic. In this case the risks are at their user-supplied values from day 0 to day 60, and then become 0 onwards.
</p>
</div>
<p>Simulating with the stepwise time-varying case fatality risk:</p>
<details class="chunk-details" open><summary class="chunk-summary"><span class="chunk-summary-text">Code</span></summary><div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">linelist</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sim_linelist.html">sim_linelist</a></span><span class="op">(</span></span>
<span>  contact_distribution <span class="op">=</span> <span class="va">contact_distribution</span>,</span>
<span>  infect_period <span class="op">=</span> <span class="va">infect_period</span>,</span>
<span>  prob_infect <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>  onset_to_hosp <span class="op">=</span> <span class="va">onset_to_hosp</span>,</span>
<span>  onset_to_death <span class="op">=</span> <span class="va">onset_to_death</span>,</span>
<span>  hosp_death_risk <span class="op">=</span> <span class="fl">0.9</span>,</span>
<span>  non_hosp_death_risk <span class="op">=</span> <span class="fl">0.75</span>,</span>
<span>  outbreak_size <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">500</span>, <span class="fl">1000</span><span class="op">)</span>,</span>
<span>  config <span class="op">=</span> <span class="va">config</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">linelist</span><span class="op">)</span></span>
<span><span class="co">#&gt;   id       case_name case_type sex age date_onset date_admission   outcome</span></span>
<span><span class="co">#&gt; 1  1  Scottie Earvin  probable   m   5 2023-01-01           &lt;NA&gt; recovered</span></span>
<span><span class="co">#&gt; 2  2   Matthew Chham  probable   m  19 2023-01-05           &lt;NA&gt;      died</span></span>
<span><span class="co">#&gt; 3  4 Samantha Pulido suspected   f  44 2023-01-07           &lt;NA&gt; recovered</span></span>
<span><span class="co">#&gt; 4  5      Toni Vigil confirmed   f  72 2023-01-11     2023-01-24      died</span></span>
<span><span class="co">#&gt; 5  6  Amaan al-Saleh  probable   m  69 2023-01-10           &lt;NA&gt; recovered</span></span>
<span><span class="co">#&gt; 6  8 Yahaira Pedraza suspected   f  16 2023-01-09           &lt;NA&gt; recovered</span></span>
<span><span class="co">#&gt;   date_outcome date_first_contact date_last_contact ct_value</span></span>
<span><span class="co">#&gt; 1         &lt;NA&gt;               &lt;NA&gt;              &lt;NA&gt;       NA</span></span>
<span><span class="co">#&gt; 2   2023-01-19         2022-12-30        2023-01-05       NA</span></span>
<span><span class="co">#&gt; 3         &lt;NA&gt;         2023-01-05        2023-01-07       NA</span></span>
<span><span class="co">#&gt; 4   2023-01-24         2023-01-10        2023-01-12     25.2</span></span>
<span><span class="co">#&gt; 5         &lt;NA&gt;         2023-01-10        2023-01-11       NA</span></span>
<span><span class="co">#&gt; 6         &lt;NA&gt;         2023-01-05        2023-01-07       NA</span></span></code></pre></div>
</details><details class="chunk-details" open><summary class="chunk-summary"><span class="chunk-summary-text">Code</span></summary><div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">linelist</span> <span class="op">&lt;-</span> <span class="va">linelist</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_wider.html" class="external-link">pivot_wider</a></span><span class="op">(</span></span>
<span>    names_from <span class="op">=</span> <span class="va">outcome</span>,</span>
<span>    values_from <span class="op">=</span> <span class="va">date_outcome</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">rename</a></span><span class="op">(</span></span>
<span>    date_death <span class="op">=</span> <span class="va">died</span>,</span>
<span>    date_recovery <span class="op">=</span> <span class="va">recovered</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
</details><details class="chunk-details" open><summary class="chunk-summary"><span class="chunk-summary-text">Code</span></summary><div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">daily</span> <span class="op">&lt;-</span> <span class="fu"><a href="http://www.reconverse.org/incidence2/reference/incidence.html" class="external-link">incidence</a></span><span class="op">(</span></span>
<span>  <span class="va">linelist</span>,</span>
<span>  date_index <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>    onset <span class="op">=</span> <span class="st">"date_onset"</span>,</span>
<span>    death <span class="op">=</span> <span class="st">"date_death"</span></span>
<span>  <span class="op">)</span>,</span>
<span>  interval <span class="op">=</span> <span class="st">"daily"</span></span>
<span><span class="op">)</span></span>
<span><span class="va">daily</span> <span class="op">&lt;-</span> <span class="fu"><a href="http://www.reconverse.org/incidence2/reference/complete_dates.html" class="external-link">complete_dates</a></span><span class="op">(</span><span class="va">daily</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">daily</span><span class="op">)</span></span></code></pre></div>
</details><div class="figure">
<span style="display:block;" id="fig:plot-onset-death-time-varying-cfr-stepwise"></span>
<img src="time-varying-cfr_files/figure-html/plot-onset-death-time-varying-cfr-stepwise-1.png" alt="Daily incidence of cases from symptom onset and incidence of deaths. The maximum case fatality risk for hospitalised individuals is 0.9 and for non-hospitalised individuals is 0.75, and these rates remain constant from days 0 to 60, and then go to 0 from day 60 onwards."><p class="caption">
Figure 6: Daily incidence of cases from symptom onset and incidence of deaths. The maximum case fatality risk for hospitalised individuals is 0.9 and for non-hospitalised individuals is 0.75, and these rates remain constant from days 0 to 60, and then go to 0 from day 60 onwards.
</p>
</div>
<p>The same stepwise function can also be used to specify time windows were the risk of death is reduced. Here we specify the <code>hosp_death_risk</code> and <code>non_hosp_death_risk</code> in the first 50 days of the epidemic, then between day 50 and day 100 the risk is reduced by half, and then from day 100 onwards the risk goes back to the rates specified by <code>hosp_death_risk</code> and <code>non_hosp_death_risk</code>.</p>
<details class="chunk-details" open><summary class="chunk-summary"><span class="chunk-summary-text">Code</span></summary><div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">config</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_config.html">create_config</a></span><span class="op">(</span></span>
<span>  time_varying_death_risk <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">risk</span>, <span class="va">time</span><span class="op">)</span> <span class="op">{</span></span>
<span>   <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span>test <span class="op">=</span> <span class="va">time</span> <span class="op">&gt;</span> <span class="fl">50</span> <span class="op">&amp;</span> <span class="va">time</span> <span class="op">&lt;</span> <span class="fl">100</span>, yes <span class="op">=</span> <span class="va">risk</span> <span class="op">*</span> <span class="fl">0.5</span>, no <span class="op">=</span> <span class="va">risk</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span><span class="op">)</span></span></code></pre></div>
</details><details class="chunk-details"><summary class="chunk-summary"><span class="chunk-summary-text">Code</span></summary><div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">stepwise_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  time <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">150</span>,</span>
<span>  value <span class="op">=</span> <span class="va">config</span><span class="op">$</span><span class="fu">time_varying_death_risk</span><span class="op">(</span>risk <span class="op">=</span> <span class="fl">0.9</span>, time <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">150</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">stepwise_df</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span>mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">time</span>, y <span class="op">=</span> <span class="va">value</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html" class="external-link">scale_y_continuous</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"Value"</span>, limits <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html" class="external-link">scale_x_continuous</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"Time (Days)"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</details><div class="figure">
<span style="display:block;" id="fig:plot-stepwise-dist-window"></span>
<img src="time-varying-cfr_files/figure-html/plot-stepwise-dist-window-1.png" alt="The time-varying case fatality risk function (`config$time_varying_death_risk`) which scales the hospitalised death risk (`hosp_death_risk`) and non-hospitalised death risk (`non_hosp_death_risk`) throughout the epidemic. In this case the risks are at their maximum, user-supplied, values from day 0 to day 50, and then half the risks from day 50 to day 100, and then return to their maximum value from day 100 onwards."><p class="caption">
Figure 7: The time-varying case fatality risk function (<code>config$time_varying_death_risk</code>) which scales the hospitalised death risk (<code>hosp_death_risk</code>) and non-hospitalised death risk (<code>non_hosp_death_risk</code>) throughout the epidemic. In this case the risks are at their maximum, user-supplied, values from day 0 to day 50, and then half the risks from day 50 to day 100, and then return to their maximum value from day 100 onwards.
</p>
</div>
<p>Simulating with the stepwise time-varying case fatality risk:</p>
<details class="chunk-details" open><summary class="chunk-summary"><span class="chunk-summary-text">Code</span></summary><div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">linelist</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sim_linelist.html">sim_linelist</a></span><span class="op">(</span></span>
<span>  contact_distribution <span class="op">=</span> <span class="va">contact_distribution</span>,</span>
<span>  infect_period <span class="op">=</span> <span class="va">infect_period</span>,</span>
<span>  prob_infect <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>  onset_to_hosp <span class="op">=</span> <span class="va">onset_to_hosp</span>,</span>
<span>  onset_to_death <span class="op">=</span> <span class="va">onset_to_death</span>,</span>
<span>  hosp_death_risk <span class="op">=</span> <span class="fl">0.9</span>,</span>
<span>  non_hosp_death_risk <span class="op">=</span> <span class="fl">0.75</span>,</span>
<span>  outbreak_size <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">500</span>, <span class="fl">1000</span><span class="op">)</span>,</span>
<span>  config <span class="op">=</span> <span class="va">config</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: Number of cases exceeds maximum outbreak size. </span></span>
<span><span class="co">#&gt; Returning data early with 1009 cases and 1973 total contacts (including cases).</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">linelist</span><span class="op">)</span></span>
<span><span class="co">#&gt;   id         case_name case_type sex age date_onset date_admission outcome</span></span>
<span><span class="co">#&gt; 1  1    Bailey Clutter  probable   f  67 2023-01-01           &lt;NA&gt;    died</span></span>
<span><span class="co">#&gt; 2  2 Sebastian Pacheco  probable   m  48 2023-01-02           &lt;NA&gt;    died</span></span>
<span><span class="co">#&gt; 3  3    Hamad al-Zafar suspected   m   4 2023-01-07           &lt;NA&gt;    died</span></span>
<span><span class="co">#&gt; 4  6  Shelby Dalrymple suspected   f  43 2023-01-02     2023-01-05    died</span></span>
<span><span class="co">#&gt; 5  7 Atienne Delacerda confirmed   f  31 2023-01-10           &lt;NA&gt;    died</span></span>
<span><span class="co">#&gt; 6  8     Justina Zhang confirmed   f  77 2023-01-08           &lt;NA&gt;    died</span></span>
<span><span class="co">#&gt;   date_outcome date_first_contact date_last_contact ct_value</span></span>
<span><span class="co">#&gt; 1   2023-01-10               &lt;NA&gt;              &lt;NA&gt;       NA</span></span>
<span><span class="co">#&gt; 2   2023-01-12         2023-01-01        2023-01-04       NA</span></span>
<span><span class="co">#&gt; 3   2023-01-28         2023-01-02        2023-01-03       NA</span></span>
<span><span class="co">#&gt; 4   2023-01-08         2022-12-31        2023-01-04       NA</span></span>
<span><span class="co">#&gt; 5   2023-01-23         2023-01-11        2023-01-12     25.6</span></span>
<span><span class="co">#&gt; 6   2023-01-27         2023-01-06        2023-01-10     25.6</span></span></code></pre></div>
</details><details class="chunk-details" open><summary class="chunk-summary"><span class="chunk-summary-text">Code</span></summary><div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">linelist</span> <span class="op">&lt;-</span> <span class="va">linelist</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_wider.html" class="external-link">pivot_wider</a></span><span class="op">(</span></span>
<span>    names_from <span class="op">=</span> <span class="va">outcome</span>,</span>
<span>    values_from <span class="op">=</span> <span class="va">date_outcome</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">rename</a></span><span class="op">(</span></span>
<span>    date_death <span class="op">=</span> <span class="va">died</span>,</span>
<span>    date_recovery <span class="op">=</span> <span class="va">recovered</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
</details><details class="chunk-details" open><summary class="chunk-summary"><span class="chunk-summary-text">Code</span></summary><div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">daily</span> <span class="op">&lt;-</span> <span class="fu"><a href="http://www.reconverse.org/incidence2/reference/incidence.html" class="external-link">incidence</a></span><span class="op">(</span></span>
<span>  <span class="va">linelist</span>,</span>
<span>  date_index <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>    onset <span class="op">=</span> <span class="st">"date_onset"</span>,</span>
<span>    death <span class="op">=</span> <span class="st">"date_death"</span></span>
<span>  <span class="op">)</span>,</span>
<span>  interval <span class="op">=</span> <span class="st">"daily"</span></span>
<span><span class="op">)</span></span>
<span><span class="va">daily</span> <span class="op">&lt;-</span> <span class="fu"><a href="http://www.reconverse.org/incidence2/reference/complete_dates.html" class="external-link">complete_dates</a></span><span class="op">(</span><span class="va">daily</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">daily</span><span class="op">)</span></span></code></pre></div>
</details><div class="figure">
<span style="display:block;" id="fig:plot-onset-death-time-varying-cfr-stepwise-window"></span>
<img src="time-varying-cfr_files/figure-html/plot-onset-death-time-varying-cfr-stepwise-window-1.png" alt="Daily incidence of cases from symptom onset and incidence of deaths. The maximum case fatality risk for hospitalised individuals is 0.9 and for non-hospitalised individuals is 0.75, and these rates remain constant from days 0 to 50, and then from days 50 to 100 the case fatality risk is halved (i.e `hosp_death_risk` = 0.45 and `non_hosp_death_risk` = 0.375), before going back to their original risks from day 100 onwards."><p class="caption">
Figure 8: Daily incidence of cases from symptom onset and incidence of deaths. The maximum case fatality risk for hospitalised individuals is 0.9 and for non-hospitalised individuals is 0.75, and these rates remain constant from days 0 to 50, and then from days 50 to 100 the case fatality risk is halved (i.e <code>hosp_death_risk</code> = 0.45 and <code>non_hosp_death_risk</code> = 0.375), before going back to their original risks from day 100 onwards.
</p>
</div>
<p>This vignette does not explore applying a time-varying case fatality risk to age-stratified fatality risks, but this is possible with the <code><a href="../reference/sim_linelist.html">sim_linelist()</a></code> and <code><a href="../reference/sim_outbreak.html">sim_outbreak()</a></code> functions. See the <a href="age-strat-risks.html">Age-stratified hospitalisation and death risks vignette</a> and combine with instructions from this vignette on setting in a time-varying function using <code><a href="../reference/create_config.html">create_config()</a></code>.</p>
<p>The implementation of the time-varying case fatality rate in the simulation functions (<code><a href="../reference/sim_linelist.html">sim_linelist()</a></code> and <code><a href="../reference/sim_outbreak.html">sim_outbreak()</a></code>) is flexible to many functional forms. If there are other ways to have a time-varying case fatality risk that are not currently possible please make an <a href="https://github.com/epiverse-trace/simulist/issues" class="external-link">issue</a> or <a href="https://github.com/epiverse-trace/simulist/pulls" class="external-link">pull request</a>. Currently the hospitalisation risk is assumed constant over time can cannot be adjusted to be time-varying like the death risk, if this is a feature you would like included in the {simulist} R package please make the request in an <a href="https://github.com/epiverse-trace/simulist/issues" class="external-link">issue</a>.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Joshua W. Lambert, Carmen Tamayo.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.9000.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
