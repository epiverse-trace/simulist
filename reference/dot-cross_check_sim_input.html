<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Cross check the onset-to-hospitalisation or -death arguments are compatible with hospitalisation and death risks — .cross_check_sim_input • simulist</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Cross check the onset-to-hospitalisation or -death arguments are compatible with hospitalisation and death risks — .cross_check_sim_input"><meta name="description" content="There are two types of cross-checking:
If the onset-to-event distribution is specified but the corresponding risk
is not specified (i.e. NULL) the function will error (stop()).
If the onset-to-event distribution is not specified (i.e. NULL) but the
corresponding risk is specified the function will throw a warning
(warning()).


The difference in condition handling is because in the case that the
onset-to-event is NULL the simulation can safely ignore the corresponding
risk, while throwing a warning, as there are no events. In other words, if
the onset-to-hospitalisation is not specified, no infected individuals will
go to hospital and the date_admission column in the line list will all be
NAs. However, if the onset-to-event is specified and the corresponding
risk is NULL then the proportion of individuals infected that are
hospitalised or die cannot be calculated and therefore the simulation
cannot run. It is in this latter case that the cross-checking throws an
error."><meta property="og:description" content="There are two types of cross-checking:
If the onset-to-event distribution is specified but the corresponding risk
is not specified (i.e. NULL) the function will error (stop()).
If the onset-to-event distribution is not specified (i.e. NULL) but the
corresponding risk is specified the function will throw a warning
(warning()).


The difference in condition handling is because in the case that the
onset-to-event is NULL the simulation can safely ignore the corresponding
risk, while throwing a warning, as there are no events. In other words, if
the onset-to-hospitalisation is not specified, no infected individuals will
go to hospital and the date_admission column in the line list will all be
NAs. However, if the onset-to-event is specified and the corresponding
risk is NULL then the proportion of individuals infected that are
hospitalised or die cannot be calculated and therefore the simulation
cannot run. It is in this latter case that the cross-checking throws an
error."><meta property="og:image" content="https://epiverse-trace.github.io/simulist/logo.svg"><!-- Google tag (gtag.js) --><script async src="https://www.googletagmanager.com/gtag/js?id=G-XZ471458FQ"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-XZ471458FQ');
</script></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">
    <a href="https://epiverse-trace.github.io/" class="external-link"><img src="https://epiverse-trace.github.io/blueprints/logo_white.svg" id="logo" alt="Epiverse-TRACE"></a>
    <a class="navbar-brand me-2" href="../index.html">simulist</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Unreleased version">0.4.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/simulist.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Customising simulated outbreak</h6></li>
    <li><a class="dropdown-item" href="../articles/age-strat-risks.html">Age-stratified hospitalisation and death risks</a></li>
    <li><a class="dropdown-item" href="../articles/age-struct-pop.html">Age structured population</a></li>
    <li><a class="dropdown-item" href="../articles/time-varying-cfr.html">Time-varying case fatality risk</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Wrangling and plotting data</h6></li>
    <li><a class="dropdown-item" href="../articles/wrangling-linelist.html">Wrangling simulated outbreak data</a></li>
    <li><a class="dropdown-item" href="../articles/vis-linelist.html">Visualising simulated data</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Developer Documentation</h6></li>
    <li><a class="dropdown-item" href="../articles/design-principles.html">Design Principles for {simulist}</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/epiverse-trace/simulist/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Cross check the onset-to-hospitalisation or -death arguments are compatible with hospitalisation and death risks</h1>
      <small class="dont-index">Source: <a href="https://github.com/epiverse-trace/simulist/blob/main/R/checkers.R" class="external-link"><code>R/checkers.R</code></a></small>
      <div class="d-none name"><code>dot-cross_check_sim_input.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>There are two types of cross-checking:</p><ol><li><p>If the onset-to-event distribution is specified but the corresponding risk
is not specified (i.e. <code>NULL</code>) the function will error (<code><a href="https://rdrr.io/r/base/stop.html" class="external-link">stop()</a></code>).</p></li>
<li><p>If the onset-to-event distribution is not specified (i.e. <code>NULL</code>) but the
corresponding risk is specified the function will throw a warning
(<code><a href="https://rdrr.io/r/base/warning.html" class="external-link">warning()</a></code>).</p></li>
</ol><p>The difference in condition handling is because in the case that the
onset-to-event is <code>NULL</code> the simulation can safely ignore the corresponding
risk, while throwing a warning, as there are no events. In other words, if
the onset-to-hospitalisation is not specified, no infected individuals will
go to hospital and the <code>date_admission</code> column in the line list will all be
<code>NA</code>s. However, if the onset-to-event is specified and the corresponding
risk is <code>NULL</code> then the proportion of individuals infected that are
hospitalised or die cannot be calculated and therefore the simulation
cannot run. It is in this latter case that the cross-checking throws an
error.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">.cross_check_sim_input</span><span class="op">(</span></span>
<span>  <span class="va">onset_to_hosp</span>,</span>
<span>  <span class="va">onset_to_death</span>,</span>
<span>  <span class="va">hosp_risk</span>,</span>
<span>  <span class="va">hosp_death_risk</span>,</span>
<span>  <span class="va">non_hosp_death_risk</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-onset-to-hosp">onset_to_hosp<a class="anchor" aria-label="anchor" href="#arg-onset-to-hosp"></a></dt>
<dd><p>A <code>function</code> or an <code>&lt;epiparameter&gt;</code> object for the
onset-to-hospitalisation delay distribution. <code>onset_to_hosp</code> can also be
set to <code>NULL</code> to not simulate hospitalisation (admission) dates.</p>
<p>The function can be defined or anonymous. The function must return a vector
of <code>numeric</code>s for the length of the onset-to-hospitalisation delay. The
function must have a single argument.</p>
<p>An <code>&lt;epiparameter&gt;</code> can be provided. This will be converted into a random
number generator internally.</p>
<p>The default is an anonymous function with a lognormal distribution random
number generator (<code><a href="https://rdrr.io/r/stats/Lognormal.html" class="external-link">rlnorm()</a></code>) with <code>meanlog = 1.5</code> and <code>sdlog = 0.5</code>.</p>
<p>If <code>onset_to_hosp</code> is set to <code>NULL</code> then <code>hosp_risk</code> and <code>hosp_death_risk</code>
will be automatically set to <code>NULL</code> if not manually specified.</p></dd>


<dt id="arg-onset-to-death">onset_to_death<a class="anchor" aria-label="anchor" href="#arg-onset-to-death"></a></dt>
<dd><p>A <code>function</code> or an <code>&lt;epiparameter&gt;</code> object for the
onset-to-death delay distribution. <code>onset_to_death</code> can also be set to
<code>NULL</code> to not simulate dates for individuals that died.</p>
<p>The function can be defined or anonymous. The function must return a vector
of <code>numeric</code>s for the length of the onset-to-death delay. The function must
have a single argument.</p>
<p>An <code>&lt;epiparameter&gt;</code> can be provided. This will be converted into a random
number generator internally.</p>
<p>The default is an anonymous function with a lognormal distribution random
number generator (<code><a href="https://rdrr.io/r/stats/Lognormal.html" class="external-link">rlnorm()</a></code>) with <code>meanlog = 2.5</code> and <code>sdlog = 0.5</code>.</p>
<p>If <code>onset_to_death</code> is set to <code>NULL</code> then <code>non_hosp_death_risk</code> and
<code>hosp_death_risk</code> will be automatically set to <code>NULL</code> if not manually
specified.</p></dd>


<dt id="arg-hosp-risk">hosp_risk<a class="anchor" aria-label="anchor" href="#arg-hosp-risk"></a></dt>
<dd><p>Either a single <code>numeric</code> for the hospitalisation risk of
everyone in the population, or a <code>&lt;data.frame&gt;</code> with age specific
hospitalisation risks. Default is 20% hospitalisation (<code>0.2</code>) for the entire
population. If the <code>onset_to_hosp</code> argument is set to <code>NULL</code> this argument
will automatically be set to <code>NULL</code> if not specified or can be manually
set to <code>NULL</code>. See details and examples for more information.</p></dd>


<dt id="arg-hosp-death-risk">hosp_death_risk<a class="anchor" aria-label="anchor" href="#arg-hosp-death-risk"></a></dt>
<dd><p>Either a single <code>numeric</code> for the death risk for
hospitalised individuals across the population, or a <code>&lt;data.frame&gt;</code> with age
specific hospitalised death risks Default is 50% death risk in hospitals
(<code>0.5</code>) for the entire population. If the <code>onset_to_death</code> argument is set
to <code>NULL</code> this argument will automatically be set to <code>NULL</code> if not specified
or can be manually set to <code>NULL</code>. See details and examples for more
information. The <code>hosp_death_risk</code> can vary through time if specified in
the <code>time_varying_death_risk</code> element of <code>config</code>, see
<code><a href="../articles/time-varying-cfr.html">vignette("time-varying-cfr", package = "simulist")</a></code> for more information.</p></dd>


<dt id="arg-non-hosp-death-risk">non_hosp_death_risk<a class="anchor" aria-label="anchor" href="#arg-non-hosp-death-risk"></a></dt>
<dd><p>Either a single <code>numeric</code> for the death risk for
outside of hospitals across the population, or a <code>&lt;data.frame&gt;</code> with age
specific death risks outside of hospitals. Default is 5% death risk outside
of hospitals  (<code>0.05</code>) for the entire population. If the <code>onset_to_death</code>
argument is set to <code>NULL</code> this argument will automatically be set to <code>NULL</code>
if not specified or can be manually set to <code>NULL</code>. See details and examples
for more information. The <code>non_hosp_death_risk</code> can vary through time if
specified in the <code>time_varying_death_risk</code> element of <code>config</code>, see
<code><a href="../articles/time-varying-cfr.html">vignette("time-varying-cfr", package = "simulist")</a></code> for more information.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Invisibly return the <code>onset_to_hosp</code> argument. The function is
called for its side-effects, which will error or warn if the input is
invalid.</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Joshua W. Lambert, Carmen Tamayo.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

